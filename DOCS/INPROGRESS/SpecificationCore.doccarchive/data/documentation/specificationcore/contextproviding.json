{"metadata":{"modules":[{"name":"SpecificationCore"}],"title":"ContextProviding","navigatorTitle":[{"kind":"identifier","text":"ContextProviding"}],"fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"ContextProviding","kind":"identifier"}],"role":"symbol","symbolKind":"protocol","roleHeading":"Protocol","externalID":"s:17SpecificationCore16ContextProvidingP"},"hierarchy":{"paths":[["doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore"]]},"variants":[{"paths":["\/documentation\/specificationcore\/contextproviding"],"traits":[{"interfaceLanguage":"swift"}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"seeAlsoSections":[{"title":"Related Documentation","anchor":"Related-Documentation","identifiers":["doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/EvaluationContext","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/DefaultContextProvider","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MockContextProvider"]},{"title":"Essentials","generated":true,"anchor":"Essentials","identifiers":["doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/Specification","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/DecisionSpec","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/AsyncSpecification"]}],"relationshipsSections":[{"title":"Conforming Types","kind":"relationships","type":"conformingTypes","identifiers":["doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/AnyContextProvider","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/DefaultContextProvider","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/GenericContextProvider","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MockContextProvider","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/StaticContextProvider"]}],"kind":"symbol","abstract":[{"text":"A protocol for types that can provide context for specification evaluation.","type":"text"},{"text":" ","type":"text"},{"text":"This enables dependency injection and testing by abstracting context creation.","type":"text"}],"topicSections":[{"title":"Essential Protocol","anchor":"Essential-Protocol","identifiers":["doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/ContextProviding\/currentContext()","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/ContextProviding\/currentContextAsync()"]},{"title":"Generic Providers","anchor":"Generic-Providers","identifiers":["doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/GenericContextProvider","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/StaticContextProvider"]},{"title":"Associated Types","generated":true,"anchor":"Associated-Types","identifiers":["doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/ContextProviding\/Context"]},{"title":"Instance Methods","generated":true,"anchor":"Instance-Methods","identifiers":["doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/ContextProviding\/predicate(_:)","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/ContextProviding\/specification(_:)"]}],"sections":[],"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"ContextProviding","kind":"identifier"}],"languages":["swift"],"platforms":["macOS"]}]},{"content":[{"type":"heading","anchor":"overview","level":2,"text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"A protocol for types that provide evaluation context to specifications."}]},{"type":"heading","anchor":"Overview","level":2,"text":"Overview"},{"type":"paragraph","inlineContent":[{"text":"The ","type":"text"},{"type":"codeVoice","code":"ContextProviding"},{"type":"text","text":" protocol abstracts context creation and retrieval for specification evaluation. This enables dependency injection, testing with mock contexts, and dynamic context management without tightly coupling specifications to specific context implementations."}]},{"type":"heading","level":3,"text":"Key Benefits","anchor":"Key-Benefits"},{"items":[{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Dependency Injection","type":"text"}]},{"type":"text","text":": Inject different context providers for production vs testing"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"Abstraction","type":"text"}],"type":"strong"},{"type":"text","text":": Decouple specifications from context storage mechanisms"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"Testability"}],"type":"strong"},{"type":"text","text":": Easily provide mock contexts for unit testing"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"Flexibility"}],"type":"strong"},{"text":": Switch context providers without changing specification code","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"Async Support","type":"text"}]},{"text":": Built-in async context retrieval methods","type":"text"}]}]}],"type":"unorderedList"},{"level":3,"anchor":"When-to-Use-ContextProviding","type":"heading","text":"When to Use ContextProviding"},{"type":"paragraph","inlineContent":[{"text":"Use ","type":"text"},{"type":"codeVoice","code":"ContextProviding"},{"type":"text","text":" when you need to:"}]},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Provide runtime context to specifications (feature flags, counters, timestamps)"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Support different context sources (memory, database, network)","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Enable dependency injection for testability","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Create reusable context infrastructure"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Abstract context retrieval mechanisms"}],"type":"paragraph"}]}],"type":"unorderedList"},{"text":"Quick Example","type":"heading","level":2,"anchor":"Quick-Example"},{"type":"codeListing","syntax":"swift","code":["import SpecificationCore","","\/\/ Define your context type","struct AppContext {","    let userId: String","    let featureFlags: [String: Bool]","    let sessionStart: Date","}","","\/\/ Create a context provider","struct AppContextProvider: ContextProviding {","    func currentContext() -> AppContext {","        AppContext(","            userId: UserSession.current.userId,","            featureFlags: FeatureFlagManager.shared.allFlags(),","            sessionStart: UserSession.current.startTime","        )","    }","}","","\/\/ Use with specifications","let provider = AppContextProvider()","let context = provider.currentContext()","","\/\/ Specifications can now use this context","let spec = FeatureFlagSpec(flagKey: \"new_ui\")","let isEnabled = spec.isSatisfiedBy(context)"]},{"anchor":"Built-in-Context-EvaluationContext","level":2,"type":"heading","text":"Built-in Context: EvaluationContext"},{"inlineContent":[{"text":"SpecificationCore provides ","type":"text"},{"isActive":true,"identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/EvaluationContext","type":"reference"},{"text":" as a standard context type:","type":"text"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["\/\/ Use the default context provider","let provider = DefaultContextProvider.shared","","\/\/ Set some context data","provider.setFlag(\"premium_user\", value: true)","provider.setCounter(\"login_attempts\", value: 3)","provider.recordEvent(\"last_login\")","","\/\/ Get current context","let context = provider.currentContext()","","\/\/ Use with specifications","let spec = MaxCountSpec(","    counterKey: \"login_attempts\",","    maximumCount: 5",")","let canRetry = spec.isSatisfiedBy(context)"]},{"type":"heading","level":2,"anchor":"Generic-Context-Provider","text":"Generic Context Provider"},{"inlineContent":[{"type":"text","text":"Create context providers from closures:"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["\/\/ Simple closure-based provider","let provider = GenericContextProvider {","    EvaluationContext(userId: UserSession.currentUserId)","}","","let context = provider.currentContext()"]},{"anchor":"Static-Context-Provider","level":2,"type":"heading","text":"Static Context Provider"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Provide a fixed context for testing or simple use cases:"}]},{"type":"codeListing","syntax":"swift","code":["\/\/ Create a static context for testing","let testContext = EvaluationContext(userId: \"test-user-123\")","let provider = StaticContextProvider(testContext)","","\/\/ Always returns the same context","let context1 = provider.currentContext()","let context2 = provider.currentContext()","\/\/ context1 === context2 (same instance)"]},{"type":"heading","text":"Async Context Retrieval","anchor":"Async-Context-Retrieval","level":2},{"inlineContent":[{"type":"text","text":"Context providers support async retrieval for remote or database-backed contexts:"}],"type":"paragraph"},{"syntax":"swift","code":["struct RemoteContextProvider: ContextProviding {","    let apiClient: APIClient","","    func currentContext() -> EvaluationContext {","        \/\/ Synchronous fallback","        EvaluationContext(userId: \"default\")","    }","","    func currentContextAsync() async throws -> EvaluationContext {","        let userData = try await apiClient.fetchUserData()","        return EvaluationContext(","            userId: userData.id,","            flags: userData.featureFlags,","            counters: userData.usageCounters","        )","    }","}","","\/\/ Use async retrieval","let provider = RemoteContextProvider(apiClient: client)","let context = try await provider.currentContextAsync()"],"type":"codeListing"},{"level":2,"anchor":"Creating-Specifications-with-Providers","text":"Creating Specifications with Providers","type":"heading"},{"inlineContent":[{"type":"text","text":"Use context providers to create specifications:"}],"type":"paragraph"},{"syntax":"swift","code":["let provider = DefaultContextProvider.shared","","\/\/ Create a specification using the provider","let spec = provider.predicate { context, user in","    context.flag(for: \"premium_users_only\") == true &&","    user.subscriptionTier == \"premium\"","}","","\/\/ Or create a more complex specification","let dynamicSpec = provider.specification { context in","    if context.flag(for: \"use_new_rules\") == true {","        return AnySpecification(NewEligibilityRules())","    } else {","        return AnySpecification(LegacyEligibilityRules())","    }","}"],"type":"codeListing"},{"level":2,"anchor":"Testing-with-Mock-Providers","text":"Testing with Mock Providers","type":"heading"},{"inlineContent":[{"text":"Create mock providers for unit testing:","type":"text"}],"type":"paragraph"},{"syntax":"swift","code":["\/\/ Use the built-in mock provider","let mockProvider = MockContextProvider()","mockProvider.setFlag(\"test_feature\", value: true)","mockProvider.setCounter(\"attempts\", value: 2)","","\/\/ Inject into your code","class UserService {","    let contextProvider: any ContextProviding","","    init(contextProvider: any ContextProviding = DefaultContextProvider.shared) {","        self.contextProvider = contextProvider","    }","","    func checkEligibility(_ user: User) -> Bool {","        let context = contextProvider.currentContext()","        let spec = EligibilitySpec()","        return spec.isSatisfiedBy((user, context))","    }","}","","\/\/ Test with mock provider","let service = UserService(contextProvider: mockProvider)","let isEligible = service.checkEligibility(testUser)"],"type":"codeListing"},{"level":2,"anchor":"Custom-Context-Types","text":"Custom Context Types","type":"heading"},{"inlineContent":[{"type":"text","text":"Create custom context types for domain-specific needs:"}],"type":"paragraph"},{"syntax":"swift","code":["struct OrderContext {","    let orderId: String","    let customerId: String","    let orderTotal: Decimal","    let createdAt: Date","    let items: [OrderItem]","}","","struct OrderContextProvider: ContextProviding {","    let database: Database","","    func currentContext() -> OrderContext {","        \/\/ Fetch current order context","        let orderId = CurrentOrderSession.orderId","        let order = database.fetchOrder(orderId)","","        return OrderContext(","            orderId: order.id,","            customerId: order.customerId,","            orderTotal: order.total,","            createdAt: order.createdAt,","            items: order.items","        )","    }","}","","\/\/ Use with order-specific specifications","struct MinimumOrderSpec: Specification {","    let minimumTotal: Decimal","","    func isSatisfiedBy(_ context: OrderContext) -> Bool {","        context.orderTotal >= minimumTotal","    }","}","","let provider = OrderContextProvider(database: db)","let context = provider.currentContext()","let meetsMinimum = MinimumOrderSpec(minimumTotal: 50.00).isSatisfiedBy(context)"],"type":"codeListing"},{"anchor":"Environment-Specific-Providers","level":2,"type":"heading","text":"Environment-Specific Providers"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Create different providers for different environments:"}]},{"syntax":"swift","code":["protocol AppContextProviding: ContextProviding where Context == EvaluationContext {}","","struct ProductionContextProvider: AppContextProviding {","    func currentContext() -> EvaluationContext {","        EvaluationContext(","            userId: UserDefaults.standard.string(forKey: \"userId\") ?? \"\",","            flags: RemoteConfigManager.shared.flags,","            counters: AnalyticsManager.shared.counters","        )","    }","}","","struct StagingContextProvider: AppContextProviding {","    func currentContext() -> EvaluationContext {","        EvaluationContext(","            userId: \"staging-user\",","            flags: [\"all_features\": true],  \/\/ Enable all features in staging","            counters: [:]","        )","    }","}","","\/\/ Configure based on environment","#if DEBUG","let contextProvider: any AppContextProviding = StagingContextProvider()","#else","let contextProvider: any AppContextProviding = ProductionContextProvider()","#endif"],"type":"codeListing"},{"level":2,"text":"Thread-Safe Providers","type":"heading","anchor":"Thread-Safe-Providers"},{"inlineContent":[{"type":"text","text":"Ensure thread safety when context can be accessed concurrently:"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["actor ThreadSafeContextProvider: ContextProviding {","    private var cachedContext: EvaluationContext?","    private let refreshInterval: TimeInterval","","    init(refreshInterval: TimeInterval = 60) {","        self.refreshInterval = refreshInterval","    }","","    func currentContext() -> EvaluationContext {","        \/\/ Note: Actor-isolated, must be called with await in async context","        if let cached = cachedContext {","            return cached","        }","","        let context = buildContext()","        cachedContext = context","        return context","    }","","    private func buildContext() -> EvaluationContext {","        EvaluationContext(","            userId: fetchUserId(),","            flags: fetchFlags(),","            counters: fetchCounters()","        )","    }","}"]},{"level":2,"text":"Scoped Context Providers","type":"heading","anchor":"Scoped-Context-Providers"},{"type":"paragraph","inlineContent":[{"text":"Create context providers for specific scopes:","type":"text"}]},{"syntax":"swift","type":"codeListing","code":["struct ScopedContextProvider: ContextProviding {","    let scope: String","    let baseProvider: DefaultContextProvider","","    func currentContext() -> EvaluationContext {","        var context = baseProvider.currentContext()","","        \/\/ Add scope-specific data","        context.metadata[\"scope\"] = scope","        context.metadata[\"scope_timestamp\"] = Date()","","        return context","    }","}","","\/\/ Use for different parts of your app","let checkoutProvider = ScopedContextProvider(","    scope: \"checkout\",","    baseProvider: .shared",")","","let profileProvider = ScopedContextProvider(","    scope: \"profile\",","    baseProvider: .shared",")"]},{"anchor":"Combining-Multiple-Providers","level":2,"type":"heading","text":"Combining Multiple Providers"},{"inlineContent":[{"type":"text","text":"Merge contexts from multiple providers:"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["struct CompositeProvider: ContextProviding {","    let providers: [any ContextProviding<EvaluationContext>]","","    func currentContext() -> EvaluationContext {","        var merged = EvaluationContext()","","        for provider in providers {","            let context = provider.currentContext()","            merged.merge(with: context)","        }","","        return merged","    }","}","","\/\/ Combine user, feature, and analytics contexts","let provider = CompositeProvider(providers: [","    UserContextProvider(),","    FeatureFlagProvider(),","    AnalyticsProvider()","])"]},{"level":2,"type":"heading","anchor":"Best-Practices","text":"Best Practices"},{"level":3,"type":"heading","anchor":"Use-Dependency-Injection","text":"Use Dependency Injection"},{"type":"codeListing","syntax":"swift","code":["\/\/ ✅ Good - inject provider for testability","class FeatureService {","    let contextProvider: any ContextProviding","","    init(contextProvider: any ContextProviding = DefaultContextProvider.shared) {","        self.contextProvider = contextProvider","    }","}","","\/\/ ❌ Avoid - hard-coded provider","class FeatureService {","    func checkFeature() {","        let context = DefaultContextProvider.shared.currentContext()  \/\/ Hard to test","    }","}"]},{"level":3,"type":"heading","anchor":"Provide-Default-Implementations","text":"Provide Default Implementations"},{"type":"codeListing","syntax":"swift","code":["\/\/ ✅ Good - default parameter for production use","init(contextProvider: any ContextProviding = DefaultContextProvider.shared) {","    self.contextProvider = contextProvider","}","","\/\/ Easy to use in production","let service = FeatureService()  \/\/ Uses default","","\/\/ Easy to test","let service = FeatureService(contextProvider: mockProvider)"]},{"level":3,"type":"heading","anchor":"Cache-Contexts-When-Appropriate","text":"Cache Contexts When Appropriate"},{"type":"codeListing","syntax":"swift","code":["\/\/ ✅ Good - cache expensive context creation","class CachingProvider: ContextProviding {","    private var cache: EvaluationContext?","    private var cacheTime: Date?","    private let cacheTimeout: TimeInterval = 60","","    func currentContext() -> EvaluationContext {","        if let cached = cache,","           let time = cacheTime,","           Date().timeIntervalSince(time) < cacheTimeout {","            return cached","        }","","        let context = buildExpensiveContext()","        cache = context","        cacheTime = Date()","        return context","    }","}"]},{"type":"heading","text":"Performance Considerations","anchor":"Performance-Considerations","level":2},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"inlineContent":[{"text":"Lazy Context Creation","type":"text"}],"type":"strong"},{"text":": Don’t create context until needed","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"Caching"}],"type":"strong"},{"text":": Cache contexts when creation is expensive","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Thread Safety"}]},{"type":"text","text":": Ensure providers are thread-safe if used concurrently"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"Async Methods","type":"text"}],"type":"strong"},{"text":": Use async methods for I\/O-bound context creation","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Resource Cleanup"}]},{"type":"text","text":": Clean up resources in context providers when appropriate"}]}]}]}],"kind":"content"}],"identifier":{"url":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/ContextProviding","interfaceLanguage":"swift"},"references":{"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/ContextProviding/specification(_:)":{"url":"\/documentation\/specificationcore\/contextproviding\/specification(_:)","type":"topic","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/ContextProviding\/specification(_:)","role":"symbol","title":"specification(_:)","abstract":[{"text":"Creates a specification that uses this context provider","type":"text"}],"kind":"symbol","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"specification"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"T"},{"kind":"text","text":">(("},{"kind":"typeIdentifier","preciseIdentifier":"s:17SpecificationCore16ContextProvidingP0C0Qa","text":"Context"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","preciseIdentifier":"s:17SpecificationCore03AnyA0V","text":"AnySpecification"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","preciseIdentifier":"s:17SpecificationCore16ContextProvidingPAAE13specificationyAA03AnyA0Vyqd__GAG0C0QzclF1TL_qd__mfp","text":"T"},{"kind":"text","text":">) -> "},{"kind":"typeIdentifier","preciseIdentifier":"s:17SpecificationCore03AnyA0V","text":"AnySpecification"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","preciseIdentifier":"s:17SpecificationCore16ContextProvidingPAAE13specificationyAA03AnyA0Vyqd__GAG0C0QzclF1TL_qd__mfp","text":"T"},{"kind":"text","text":">"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/AsyncSpecification":{"abstract":[{"text":"A protocol for specifications that require asynchronous evaluation.","type":"text"}],"url":"\/documentation\/specificationcore\/asyncspecification","kind":"symbol","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/AsyncSpecification","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"AsyncSpecification"}],"title":"AsyncSpecification","type":"topic","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"AsyncSpecification"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/ContextProviding/currentContextAsync()":{"type":"topic","kind":"symbol","url":"\/documentation\/specificationcore\/contextproviding\/currentcontextasync()","title":"currentContextAsync()","required":true,"identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/ContextProviding\/currentContextAsync()","defaultImplementations":1,"abstract":[{"text":"Async variant returning the current context. Default implementation bridges to sync.","type":"text"}],"role":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"currentContextAsync","kind":"identifier"},{"text":"() ","kind":"text"},{"text":"async","kind":"keyword"},{"text":" ","kind":"text"},{"text":"throws","kind":"keyword"},{"text":" -> ","kind":"text"},{"text":"Context","kind":"typeIdentifier","preciseIdentifier":"s:17SpecificationCore16ContextProvidingP0C0Qa"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/DefaultContextProvider":{"identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/DefaultContextProvider","kind":"symbol","type":"topic","abstract":[{"text":"A thread-safe context provider that maintains application-wide state for specification evaluation.","type":"text"}],"title":"DefaultContextProvider","navigatorTitle":[{"text":"DefaultContextProvider","kind":"identifier"}],"url":"\/documentation\/specificationcore\/defaultcontextprovider","fragments":[{"kind":"keyword","text":"class"},{"text":" ","kind":"text"},{"text":"DefaultContextProvider","kind":"identifier"}],"role":"symbol"},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/AnyContextProvider":{"fragments":[{"text":"struct","kind":"keyword"},{"kind":"text","text":" "},{"text":"AnyContextProvider","kind":"identifier"}],"type":"topic","kind":"symbol","abstract":[{"text":"A type-erased context provider.","type":"text"}],"url":"\/documentation\/specificationcore\/anycontextprovider","title":"AnyContextProvider","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/AnyContextProvider","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"AnyContextProvider"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/Specification":{"url":"\/documentation\/specificationcore\/specification","type":"topic","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/Specification","role":"symbol","title":"Specification","abstract":[{"text":"A specification that evaluates whether a context satisfies certain conditions.","type":"text"}],"navigatorTitle":[{"kind":"identifier","text":"Specification"}],"kind":"symbol","fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"Specification"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/MockContextProvider":{"identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MockContextProvider","kind":"symbol","type":"topic","abstract":[{"text":"A mock context provider designed for unit testing.","type":"text"},{"text":" ","type":"text"},{"text":"This provider allows you to set up specific context scenarios","type":"text"},{"text":" ","type":"text"},{"text":"and verify that specifications behave correctly under controlled conditions.","type":"text"}],"title":"MockContextProvider","navigatorTitle":[{"text":"MockContextProvider","kind":"identifier"}],"url":"\/documentation\/specificationcore\/mockcontextprovider","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"MockContextProvider","kind":"identifier"}],"role":"symbol"},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/ContextProviding/Context":{"url":"\/documentation\/specificationcore\/contextproviding\/context","type":"topic","title":"Context","abstract":[{"type":"text","text":"The type of context this provider creates"}],"kind":"symbol","role":"symbol","fragments":[{"kind":"keyword","text":"associatedtype"},{"kind":"text","text":" "},{"kind":"identifier","text":"Context"}],"identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/ContextProviding\/Context","required":true},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/ContextProviding/predicate(_:)":{"fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"predicate","kind":"identifier"},{"text":"<","kind":"text"},{"kind":"genericParameter","text":"T"},{"kind":"text","text":">(("},{"preciseIdentifier":"s:17SpecificationCore16ContextProvidingP0C0Qa","kind":"typeIdentifier","text":"Context"},{"text":", ","kind":"text"},{"kind":"typeIdentifier","text":"T","preciseIdentifier":"s:17SpecificationCore16ContextProvidingPAAE9predicateyAA03AnyA0Vyqd__GSb0C0Qz_qd__tclF1TL_qd__mfp"},{"text":") -> ","kind":"text"},{"text":"Bool","kind":"typeIdentifier","preciseIdentifier":"s:Sb"},{"text":") -> ","kind":"text"},{"text":"AnySpecification","kind":"typeIdentifier","preciseIdentifier":"s:17SpecificationCore03AnyA0V"},{"text":"<","kind":"text"},{"text":"T","kind":"typeIdentifier","preciseIdentifier":"s:17SpecificationCore16ContextProvidingPAAE9predicateyAA03AnyA0Vyqd__GSb0C0Qz_qd__tclF1TL_qd__mfp"},{"text":">","kind":"text"}],"type":"topic","kind":"symbol","abstract":[{"type":"text","text":"Creates a simple predicate specification using this context provider"}],"url":"\/documentation\/specificationcore\/contextproviding\/predicate(_:)","title":"predicate(_:)","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/ContextProviding\/predicate(_:)","role":"symbol"},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/ContextProviding/currentContext()":{"url":"\/documentation\/specificationcore\/contextproviding\/currentcontext()","abstract":[{"type":"text","text":"Creates and returns the current context for specification evaluation"}],"identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/ContextProviding\/currentContext()","required":true,"role":"symbol","type":"topic","kind":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"currentContext","kind":"identifier"},{"text":"() -> ","kind":"text"},{"preciseIdentifier":"s:17SpecificationCore16ContextProvidingP0C0Qa","text":"Context","kind":"typeIdentifier"}],"title":"currentContext()"},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/EvaluationContext":{"navigatorTitle":[{"text":"EvaluationContext","kind":"identifier"}],"type":"topic","kind":"symbol","url":"\/documentation\/specificationcore\/evaluationcontext","title":"EvaluationContext","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/EvaluationContext","abstract":[{"type":"text","text":"A context object that holds data needed for specification evaluation."},{"type":"text","text":" "},{"text":"This serves as a container for all the information that specifications might need","type":"text"},{"type":"text","text":" "},{"type":"text","text":"to make their decisions, such as timestamps, counters, user state, etc."}],"role":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"EvaluationContext","kind":"identifier"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/StaticContextProvider":{"navigatorTitle":[{"kind":"identifier","text":"StaticContextProvider"}],"type":"topic","kind":"symbol","url":"\/documentation\/specificationcore\/staticcontextprovider","title":"StaticContextProvider","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/StaticContextProvider","abstract":[{"text":"A context provider that always returns the same static context","type":"text"}],"role":"symbol","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"StaticContextProvider"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore":{"type":"topic","kind":"symbol","url":"\/documentation\/specificationcore","title":"SpecificationCore","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore","abstract":[{"type":"text","text":"Platform-independent core for building specification-based business logic in Swift."}],"role":"collection"},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/GenericContextProvider":{"role":"symbol","title":"GenericContextProvider","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/GenericContextProvider","url":"\/documentation\/specificationcore\/genericcontextprovider","kind":"symbol","navigatorTitle":[{"text":"GenericContextProvider","kind":"identifier"}],"type":"topic","abstract":[{"text":"A generic context provider that wraps a closure for context creation","type":"text"}],"fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"GenericContextProvider","kind":"identifier"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/DecisionSpec":{"fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"DecisionSpec","kind":"identifier"}],"type":"topic","kind":"symbol","abstract":[{"text":"A protocol for specifications that can return a typed result instead of just a boolean.","type":"text"},{"text":" ","type":"text"},{"text":"This extends the specification pattern to support decision-making with payload results.","type":"text"}],"url":"\/documentation\/specificationcore\/decisionspec","title":"DecisionSpec","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/DecisionSpec","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"DecisionSpec"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/ContextProviding":{"role":"symbol","title":"ContextProviding","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/ContextProviding","url":"\/documentation\/specificationcore\/contextproviding","kind":"symbol","navigatorTitle":[{"text":"ContextProviding","kind":"identifier"}],"type":"topic","abstract":[{"type":"text","text":"A protocol for types that can provide context for specification evaluation."},{"type":"text","text":" "},{"type":"text","text":"This enables dependency injection and testing by abstracting context creation."}],"fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"ContextProviding","kind":"identifier"}]}}}