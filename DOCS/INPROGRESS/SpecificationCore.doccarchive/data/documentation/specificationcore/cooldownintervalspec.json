{"primaryContentSections":[{"kind":"declarations","declarations":[{"languages":["swift"],"tokens":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"CooldownIntervalSpec","kind":"identifier"}],"platforms":["macOS"]}]},{"content":[{"anchor":"overview","type":"heading","level":2,"text":"Overview"},{"inlineContent":[{"text":"A specification that ensures enough time has passed since the last occurrence of an event.","type":"text"}],"type":"paragraph"},{"anchor":"Overview","type":"heading","level":2,"text":"Overview"},{"inlineContent":[{"code":"CooldownIntervalSpec","type":"codeVoice"},{"type":"text","text":" implements cooldown periods for actions like showing banners, notifications, or any time-sensitive operations that shouldn’t happen too frequently. It evaluates to true when sufficient time has elapsed since an event was last recorded."}],"type":"paragraph"},{"anchor":"Key-Benefits","type":"heading","level":3,"text":"Key Benefits"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"inlineContent":[{"text":"Time-Based Throttling","type":"text"}],"type":"strong"},{"text":": Prevent actions from occurring too frequently","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"inlineContent":[{"type":"text","text":"Flexible Time Units"}],"type":"strong"},{"text":": Create cooldowns in seconds, minutes, hours, or days","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"Event Tracking"}],"type":"strong"},{"type":"text","text":": Works with "},{"identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/EvaluationContext","isActive":true,"type":"reference"},{"type":"text","text":" event timestamps"}]}]},{"content":[{"inlineContent":[{"inlineContent":[{"text":"Utility Methods","type":"text"}],"type":"strong"},{"type":"text","text":": Calculate remaining time and next allowed execution"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Advanced Patterns","type":"text"}]},{"type":"text","text":": Exponential backoff and time-of-day based cooldowns"}],"type":"paragraph"}]}]},{"anchor":"When-to-Use-CooldownIntervalSpec","level":3,"type":"heading","text":"When to Use CooldownIntervalSpec"},{"inlineContent":[{"type":"text","text":"Use "},{"type":"codeVoice","code":"CooldownIntervalSpec"},{"type":"text","text":" when you need to:"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"text":"Prevent notifications from appearing too frequently","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Implement rate limiting for user actions","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Control banner or popup display frequency"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Enforce minimum time between retries","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Throttle API calls or expensive operations","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"text":"Quick Example","level":2,"anchor":"Quick-Example","type":"heading"},{"syntax":"swift","code":["import SpecificationCore","","\/\/ Set up context and record event","let provider = DefaultContextProvider.shared","provider.recordEvent(\"last_notification\")","","\/\/ Create 1-hour cooldown spec","let notificationCooldown = CooldownIntervalSpec(","    eventKey: \"last_notification\",","    hours: 1",")","","\/\/ Use with property wrapper","@Satisfies(using: notificationCooldown)","var canShowNotification: Bool","","if canShowNotification {","    showNotification()","    provider.recordEvent(\"last_notification\")  \/\/ Reset cooldown","}"],"type":"codeListing"},{"anchor":"Creating-CooldownIntervalSpec","text":"Creating CooldownIntervalSpec","type":"heading","level":2},{"level":3,"text":"Basic Creation","type":"heading","anchor":"Basic-Creation"},{"type":"codeListing","code":["\/\/ Create with TimeInterval (seconds)","let cooldown1 = CooldownIntervalSpec(","    eventKey: \"last_action\",","    cooldownInterval: 3600  \/\/ 1 hour in seconds",")","","\/\/ Or use time unit convenience initializers","let cooldown2 = CooldownIntervalSpec(","    eventKey: \"last_action\",","    seconds: 60",")"],"syntax":"swift"},{"level":3,"type":"heading","anchor":"Time-Unit-Initializers","text":"Time Unit Initializers"},{"type":"codeListing","code":["\/\/ Seconds","let shortCooldown = CooldownIntervalSpec(","    eventKey: \"button_click\",","    seconds: 5",")","","\/\/ Minutes","let mediumCooldown = CooldownIntervalSpec(","    eventKey: \"form_submit\",","    minutes: 15",")","","\/\/ Hours","let longCooldown = CooldownIntervalSpec(","    eventKey: \"daily_reminder\",","    hours: 24",")","","\/\/ Days","let veryLongCooldown = CooldownIntervalSpec(","    eventKey: \"weekly_survey\",","    days: 7",")"],"syntax":"swift"},{"level":3,"type":"heading","anchor":"Convenience-Factories","text":"Convenience Factories"},{"type":"codeListing","code":["\/\/ Common time periods","let hourly = CooldownIntervalSpec.hourly(\"api_call\")","let daily = CooldownIntervalSpec.daily(\"notification\")","let weekly = CooldownIntervalSpec.weekly(\"newsletter\")","let monthly = CooldownIntervalSpec.monthly(\"report\")","","\/\/ Custom interval","let custom = CooldownIntervalSpec.custom(","    \"custom_event\",","    interval: 90  \/\/ 90 seconds",")"],"syntax":"swift"},{"level":2,"type":"heading","anchor":"How-It-Works","text":"How It Works"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The specification checks if enough time has passed since the event:"}]},{"type":"codeListing","syntax":"swift","code":["let cooldown = CooldownIntervalSpec(eventKey: \"last_shown\", hours: 1)","","\/\/ Event never occurred: satisfied ✅ (no cooldown needed)","\/\/ Event 30 minutes ago: NOT satisfied ❌ (still on cooldown)","\/\/ Event 1 hour ago: satisfied ✅ (cooldown expired)","\/\/ Event 2 hours ago: satisfied ✅ (cooldown long expired)"]},{"type":"heading","text":"Usage Examples","level":2,"anchor":"Usage-Examples"},{"type":"heading","text":"Notification Throttling","level":3,"anchor":"Notification-Throttling"},{"type":"codeListing","syntax":"swift","code":["let provider = DefaultContextProvider.shared","","\/\/ Create notification cooldown (1 hour)","let notificationCooldown = CooldownIntervalSpec(","    eventKey: \"last_notification_shown\",","    hours: 1",")","","@Satisfies(using: notificationCooldown)","var canShowNotification: Bool","","func showImportantNotification(_ message: String) {","    guard canShowNotification else {","        print(\"Notification on cooldown\")","        return","    }","","    displayNotification(message)","    provider.recordEvent(\"last_notification_shown\")","}"]},{"type":"heading","text":"Banner Display Control","level":3,"anchor":"Banner-Display-Control"},{"syntax":"swift","type":"codeListing","code":["\/\/ Show promotional banner maximum once per day","let bannerCooldown = CooldownIntervalSpec.daily(\"promo_banner_shown\")","","@Satisfies(using: bannerCooldown)","var shouldShowBanner: Bool","","struct ContentView: View {","    var body: some View {","        VStack {","            if shouldShowBanner {","                PromoBanner()","                    .onTapGesture {","                        DefaultContextProvider.shared","                            .recordEvent(\"promo_banner_shown\")","                    }","            }","            MainContent()","        }","    }","}"]},{"text":"Retry Logic","anchor":"Retry-Logic","type":"heading","level":3},{"syntax":"swift","type":"codeListing","code":["\/\/ Minimum 5 minutes between retry attempts","let retryCooldown = CooldownIntervalSpec(","    eventKey: \"last_retry_attempt\",","    minutes: 5",")","","@Satisfies(using: retryCooldown)","var canRetry: Bool","","func retryFailedOperation() async {","    guard canRetry else {","        showError(\"Please wait before retrying\")","        return","    }","","    await performOperation()","    DefaultContextProvider.shared.recordEvent(\"last_retry_attempt\")","}"]},{"text":"API Rate Limiting","anchor":"API-Rate-Limiting","type":"heading","level":3},{"syntax":"swift","type":"codeListing","code":["\/\/ Minimum 10 seconds between API calls","let apiCooldown = CooldownIntervalSpec(","    eventKey: \"last_api_call\",","    seconds: 10",")","","@Satisfies(using: apiCooldown)","var canCallAPI: Bool","","func fetchData() async throws -> Data {","    guard canCallAPI else {","        throw APIError.tooManyRequests","    }","","    let data = try await performAPICall()","    DefaultContextProvider.shared.recordEvent(\"last_api_call\")","    return data","}"]},{"text":"Utility Methods","level":2,"type":"heading","anchor":"Utility-Methods"},{"level":3,"text":"Remaining Cooldown Time","anchor":"Remaining-Cooldown-Time","type":"heading"},{"type":"codeListing","code":["let cooldown = CooldownIntervalSpec(eventKey: \"last_action\", minutes: 30)","let context = DefaultContextProvider.shared.currentContext()","","\/\/ Get remaining time in seconds","let remaining = cooldown.remainingCooldownTime(in: context)","","if remaining > 0 {","    print(\"Wait \\(Int(remaining)) seconds before next action\")","} else {","    print(\"Action available now\")","}"],"syntax":"swift"},{"anchor":"Check-if-Cooldown-is-Active","type":"heading","text":"Check if Cooldown is Active","level":3},{"code":["let cooldown = CooldownIntervalSpec.hourly(\"feature_use\")","let context = provider.currentContext()","","if cooldown.isCooldownActive(in: context) {","    print(\"Feature is on cooldown\")","} else {","    print(\"Feature is available\")","}"],"type":"codeListing","syntax":"swift"},{"anchor":"Next-Allowed-Time","type":"heading","text":"Next Allowed Time","level":3},{"code":["let cooldown = CooldownIntervalSpec(eventKey: \"survey_shown\", days: 7)","let context = provider.currentContext()","","if let nextTime = cooldown.nextAllowedTime(in: context) {","    let formatter = DateFormatter()","    formatter.dateStyle = .medium","    formatter.timeStyle = .short","","    print(\"Available again at: \\(formatter.string(from: nextTime))\")","} else {","    print(\"Available now\")","}"],"type":"codeListing","syntax":"swift"},{"anchor":"Advanced-Patterns","type":"heading","text":"Advanced Patterns","level":2},{"anchor":"Exponential-Backoff","level":3,"text":"Exponential Backoff","type":"heading"},{"inlineContent":[{"type":"text","text":"Increase cooldown time with each occurrence:"}],"type":"paragraph"},{"syntax":"swift","code":["\/\/ Base 60 seconds, doubles with each attempt","let backoffSpec = CooldownIntervalSpec.exponentialBackoff(","    eventKey: \"failed_login\",","    baseInterval: 60,  \/\/ 1 minute","    counterKey: \"login_attempts\",","    maxInterval: 3600  \/\/ Max 1 hour",")","","\/\/ Attempt 1: 60 seconds","\/\/ Attempt 2: 120 seconds","\/\/ Attempt 3: 240 seconds","\/\/ Attempt 4: 480 seconds","\/\/ Attempt 5: 960 seconds","\/\/ Attempt 6+: 3600 seconds (capped)","","@Satisfies(using: backoffSpec)","var canAttemptLogin: Bool"],"type":"codeListing"},{"anchor":"Time-of-Day-Based-Cooldowns","level":3,"text":"Time-of-Day Based Cooldowns","type":"heading"},{"inlineContent":[{"type":"text","text":"Different cooldowns for day vs. night:"}],"type":"paragraph"},{"syntax":"swift","code":["\/\/ 30 minutes during day, 2 hours at night","let timeBasedCooldown = CooldownIntervalSpec.timeOfDayBased(","    eventKey: \"notification\",","    daytimeInterval: .minutes(30),","    nighttimeInterval: .hours(2),","    daytimeHours: 8...22  \/\/ 8 AM to 10 PM",")","","\/\/ Notification at 3 PM: 30-minute cooldown","\/\/ Notification at 11 PM: 2-hour cooldown"],"type":"codeListing"},{"anchor":"Composition","level":2,"text":"Composition","type":"heading"},{"inlineContent":[{"text":"Combine with other cooldowns or specifications:","type":"text"}],"type":"paragraph"},{"anchor":"Multiple-Cooldowns-AND","level":3,"text":"Multiple Cooldowns (AND)","type":"heading"},{"syntax":"swift","code":["\/\/ Both cooldowns must be satisfied","let strictCooldown = CooldownIntervalSpec.hourly(\"feature_a\")","    .and(CooldownIntervalSpec.daily(\"feature_b\"))","","\/\/ Feature A: must be > 1 hour since last use","\/\/ Feature B: must be > 1 day since last use","\/\/ Both must be satisfied"],"type":"codeListing"},{"anchor":"Multiple-Cooldowns-OR","level":3,"text":"Multiple Cooldowns (OR)","type":"heading"},{"syntax":"swift","code":["\/\/ Either cooldown can be satisfied","let flexibleCooldown = CooldownIntervalSpec.weekly(\"method_a\")","    .or(CooldownIntervalSpec.monthly(\"method_b\"))","","\/\/ Can proceed if EITHER weekly OR monthly cooldown expired"],"type":"codeListing"},{"anchor":"With-Other-Specifications","level":3,"text":"With Other Specifications","type":"heading"},{"syntax":"swift","type":"codeListing","code":["\/\/ Cooldown AND feature flag","let gatedFeature = CooldownIntervalSpec.daily(\"premium_feature\")","    .and(FeatureFlagSpec(flagKey: \"premium_enabled\"))","","\/\/ Must pass cooldown AND have feature enabled"]},{"anchor":"Real-World-Examples","level":2,"type":"heading","text":"Real-World Examples"},{"anchor":"Survey-Prompts","level":3,"type":"heading","text":"Survey Prompts"},{"syntax":"swift","code":["struct SurveyPromptManager {","    let provider = DefaultContextProvider.shared","","    \/\/ Show survey once per month","    let surveyCooldown = CooldownIntervalSpec.monthly(\"survey_shown\")","","    \/\/ Also require minimum app usage","    let usageRequirement = TimeSinceEventSpec(","        eventKey: \"app_first_launch\",","        days: 7","    )","","    var shouldShowSurvey: Bool {","        let context = provider.currentContext()","        return surveyCooldown.isSatisfiedBy(context) &&","               usageRequirement.isSatisfiedBy(context)","    }","","    func showSurvey() {","        guard shouldShowSurvey else { return }","","        presentSurveyModal()","        provider.recordEvent(\"survey_shown\")","    }","}"],"type":"codeListing"},{"type":"heading","level":3,"anchor":"Push-Notification-Management","text":"Push Notification Management"},{"type":"codeListing","code":["class NotificationManager {","    let provider = DefaultContextProvider.shared","","    \/\/ Different cooldowns for different notification types","    let criticalCooldown = CooldownIntervalSpec(eventKey: \"critical_alert\", minutes: 5)","    let standardCooldown = CooldownIntervalSpec(eventKey: \"standard_notif\", hours: 1)","    let marketingCooldown = CooldownIntervalSpec(eventKey: \"marketing_notif\", days: 1)","","    func canSend(notification: Notification) -> Bool {","        let context = provider.currentContext()","","        switch notification.type {","        case .critical:","            return criticalCooldown.isSatisfiedBy(context)","        case .standard:","            return standardCooldown.isSatisfiedBy(context)","        case .marketing:","            return marketingCooldown.isSatisfiedBy(context)","        }","    }","","    func send(_ notification: Notification) {","        guard canSend(notification: notification) else {","            print(\"Notification throttled\")","            return","        }","","        deliverNotification(notification)","","        \/\/ Record event based on type","        let eventKey: String","        switch notification.type {","        case .critical: eventKey = \"critical_alert\"","        case .standard: eventKey = \"standard_notif\"","        case .marketing: eventKey = \"marketing_notif\"","        }","","        provider.recordEvent(eventKey)","    }","}"],"syntax":"swift"},{"level":3,"text":"Feature Usage Throttling","type":"heading","anchor":"Feature-Usage-Throttling"},{"type":"codeListing","code":["class PremiumFeatureGate {","    let provider = DefaultContextProvider.shared","","    \/\/ Premium users: 1-hour cooldown","    \/\/ Free users: 24-hour cooldown","    func getCooldown(for tier: UserTier) -> CooldownIntervalSpec {","        switch tier {","        case .premium:","            return .hourly(\"ai_generation\")","        case .free:","            return .daily(\"ai_generation\")","        }","    }","","    func canUseFeature(user: User) -> Bool {","        let cooldown = getCooldown(for: user.tier)","        let context = provider.currentContext()","        return cooldown.isSatisfiedBy(context)","    }","","    func useFeature(user: User) async throws -> Result {","        guard canUseFeature(user: user) else {","            let cooldown = getCooldown(for: user.tier)","            let remaining = cooldown.remainingCooldownTime(","                in: provider.currentContext()","            )","","            throw FeatureError.onCooldown(","                remainingSeconds: Int(remaining)","            )","        }","","        let result = try await performFeature()","        provider.recordEvent(\"ai_generation\")","        return result","    }","}"],"syntax":"swift"},{"level":2,"text":"Testing","type":"heading","anchor":"Testing"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Use "},{"type":"reference","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MockContextProvider","isActive":true},{"type":"text","text":" to test cooldown behavior:"}]},{"type":"codeListing","code":["func testCooldownNotExpired() {","    \/\/ Event occurred 30 minutes ago","    let provider = MockContextProvider.cooldownScenario(","        eventKey: \"last_action\",","        timeSinceEvent: 1800  \/\/ 30 minutes","    )","","    let spec = CooldownIntervalSpec(eventKey: \"last_action\", hours: 1)","","    \/\/ Should be on cooldown (30 min < 1 hour)","    XCTAssertFalse(spec.isSatisfiedBy(provider.currentContext()))","}","","func testCooldownExpired() {","    \/\/ Event occurred 2 hours ago","    let provider = MockContextProvider.cooldownScenario(","        eventKey: \"last_action\",","        timeSinceEvent: 7200  \/\/ 2 hours","    )","","    let spec = CooldownIntervalSpec(eventKey: \"last_action\", hours: 1)","","    \/\/ Should be available (2 hours > 1 hour)","    XCTAssertTrue(spec.isSatisfiedBy(provider.currentContext()))","}","","func testNoEventRecorded() {","    \/\/ No event recorded","    let provider = MockContextProvider()","","    let spec = CooldownIntervalSpec.hourly(\"never_happened\")","","    \/\/ Should be satisfied (no previous event)","    XCTAssertTrue(spec.isSatisfiedBy(provider.currentContext()))","}","","func testRemainingTime() {","    let now = Date()","    let thirtyMinutesAgo = now.addingTimeInterval(-1800)","","    let provider = MockContextProvider()","        .withCurrentDate(now)","        .withEvent(\"action\", date: thirtyMinutesAgo)","","    let spec = CooldownIntervalSpec(eventKey: \"action\", hours: 1)","","    let remaining = spec.remainingCooldownTime(in: provider.currentContext())","","    \/\/ Should have ~30 minutes remaining (1800 seconds)","    XCTAssertEqual(remaining, 1800, accuracy: 1.0)","}"],"syntax":"swift"},{"level":2,"text":"Best Practices","type":"heading","anchor":"Best-Practices"},{"level":3,"text":"Record Events Immediately After Actions","type":"heading","anchor":"Record-Events-Immediately-After-Actions"},{"type":"codeListing","code":["\/\/ ✅ Good - record event after action completes","if canShowNotification {","    showNotification()","    provider.recordEvent(\"last_notification\")","}","","\/\/ ❌ Avoid - recording before action","provider.recordEvent(\"last_notification\")","showNotification()  \/\/ Might fail, but cooldown already started"],"syntax":"swift"},{"text":"Use Appropriate Time Units","anchor":"Use-Appropriate-Time-Units","level":3,"type":"heading"},{"syntax":"swift","type":"codeListing","code":["\/\/ ✅ Good - use readable time units","let hourly = CooldownIntervalSpec(eventKey: \"api_call\", hours: 1)","let daily = CooldownIntervalSpec(eventKey: \"report\", days: 1)","","\/\/ ❌ Less readable - raw seconds","let hourly = CooldownIntervalSpec(eventKey: \"api_call\", seconds: 3600)","let daily = CooldownIntervalSpec(eventKey: \"report\", seconds: 86400)"]},{"text":"Provide User Feedback","anchor":"Provide-User-Feedback","level":3,"type":"heading"},{"syntax":"swift","type":"codeListing","code":["\/\/ ✅ Good - inform user of remaining time","if !canPerformAction {","    let remaining = cooldown.remainingCooldownTime(in: context)","    let minutes = Int(remaining \/ 60)","    showAlert(\"Please wait \\(minutes) minutes before trying again\")","}","","\/\/ ❌ Avoid - silent failure","if !canPerformAction {","    return  \/\/ User doesn't know why","}"]},{"text":"Use Consistent Event Keys","anchor":"Use-Consistent-Event-Keys","level":3,"type":"heading"},{"syntax":"swift","type":"codeListing","code":["\/\/ ✅ Good - descriptive, consistent naming","\"last_notification_shown\"","\"last_api_call_made\"","\"last_password_reset_attempt\"","","\/\/ ❌ Avoid - ambiguous or inconsistent","\"notif\"","\"api\"","\"reset\""]},{"text":"Performance Considerations","anchor":"Performance-Considerations","level":2,"type":"heading"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"Event Lookup","type":"text"}]},{"type":"text","text":": O(1) dictionary access from context"}]}]},{"content":[{"inlineContent":[{"inlineContent":[{"type":"text","text":"Date Arithmetic"}],"type":"strong"},{"type":"text","text":": Simple subtraction; very fast"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"No State Mutation","type":"text"}],"type":"strong"},{"text":": Read-only evaluation","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Missing Events"}]},{"text":": Returns true (satisfied) if event not found","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Utility Methods"}]},{"type":"text","text":": Calculate on-demand; no caching overhead"}]}]}]}],"kind":"content"}],"kind":"symbol","topicSections":[{"identifiers":["doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/init(eventKey:cooldownInterval:)","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/init(eventKey:seconds:)","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/init(eventKey:minutes:)","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/init(eventKey:hours:)","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/init(eventKey:days:)"],"title":"Creating Specifications","anchor":"Creating-Specifications"},{"identifiers":["doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/hourly(_:)","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/daily(_:)","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/weekly(_:)","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/monthly(_:)","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/custom(_:interval:)"],"title":"Convenience Factories","anchor":"Convenience-Factories"},{"identifiers":["doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/remainingCooldownTime(in:)","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/isCooldownActive(in:)","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/nextAllowedTime(in:)"],"title":"Utility Methods","anchor":"Utility-Methods"},{"identifiers":["doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/exponentialBackoff(eventKey:baseInterval:counterKey:maxInterval:)","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/timeOfDayBased(eventKey:daytimeInterval:nighttimeInterval:daytimeHours:)"],"title":"Advanced Patterns","anchor":"Advanced-Patterns"},{"identifiers":["doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/and(_:)","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/or(_:)"],"title":"Composition","anchor":"Composition"},{"identifiers":["doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/eventKey","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/cooldownInterval"],"title":"Properties","anchor":"Properties"},{"identifiers":["doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/isSatisfiedBy(_:)"],"generated":true,"title":"Instance Methods","anchor":"Instance-Methods"},{"identifiers":["doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/T"],"generated":true,"title":"Type Aliases","anchor":"Type-Aliases"},{"identifiers":["doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/Specification-Implementations"],"generated":true,"title":"Default Implementations","anchor":"Default-Implementations"}],"seeAlsoSections":[{"identifiers":["doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/TimeSinceEventSpec","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/EvaluationContext","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/DefaultContextProvider"],"title":"Related Documentation","anchor":"Related-Documentation"},{"identifiers":["doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/PredicateSpec","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/FirstMatchSpec","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/TimeSinceEventSpec","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/DateRangeSpec","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/DateComparisonSpec"],"generated":true,"title":"Basic Specifications","anchor":"Basic-Specifications"}],"abstract":[{"type":"text","text":"A specification that ensures enough time has passed since the last occurrence of an event."},{"type":"text","text":" "},{"type":"text","text":"This is particularly useful for implementing cooldown periods for actions like showing banners,"},{"type":"text","text":" "},{"type":"text","text":"notifications, or any other time-sensitive operations that shouldn’t happen too frequently."}],"identifier":{"url":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec","interfaceLanguage":"swift"},"metadata":{"roleHeading":"Structure","title":"CooldownIntervalSpec","symbolKind":"struct","modules":[{"name":"SpecificationCore"}],"navigatorTitle":[{"kind":"identifier","text":"CooldownIntervalSpec"}],"role":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"CooldownIntervalSpec","kind":"identifier"}],"externalID":"s:17SpecificationCore20CooldownIntervalSpecV"},"sections":[],"variants":[{"paths":["\/documentation\/specificationcore\/cooldownintervalspec"],"traits":[{"interfaceLanguage":"swift"}]}],"hierarchy":{"paths":[["doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore"]]},"relationshipsSections":[{"identifiers":["doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/Specification"],"kind":"relationships","type":"conformsTo","title":"Conforms To"}],"schemaVersion":{"major":0,"patch":0,"minor":3},"references":{"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/EvaluationContext":{"navigatorTitle":[{"text":"EvaluationContext","kind":"identifier"}],"type":"topic","kind":"symbol","url":"\/documentation\/specificationcore\/evaluationcontext","title":"EvaluationContext","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/EvaluationContext","abstract":[{"type":"text","text":"A context object that holds data needed for specification evaluation."},{"type":"text","text":" "},{"text":"This serves as a container for all the information that specifications might need","type":"text"},{"type":"text","text":" "},{"type":"text","text":"to make their decisions, such as timestamps, counters, user state, etc."}],"role":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"EvaluationContext","kind":"identifier"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/CooldownIntervalSpec/Specification-Implementations":{"url":"\/documentation\/specificationcore\/cooldownintervalspec\/specification-implementations","type":"topic","abstract":[],"title":"Specification Implementations","kind":"article","role":"collectionGroup","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/Specification-Implementations"},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/CooldownIntervalSpec/eventKey":{"type":"topic","url":"\/documentation\/specificationcore\/cooldownintervalspec\/eventkey","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/eventKey","role":"symbol","title":"eventKey","abstract":[{"text":"The key identifying the last occurrence event in the context","type":"text"}],"kind":"symbol","fragments":[{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"kind":"identifier","text":"eventKey"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/CooldownIntervalSpec/T":{"url":"\/documentation\/specificationcore\/cooldownintervalspec\/t","abstract":[{"type":"text","text":"The type of context that this specification evaluates."}],"identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/T","role":"symbol","type":"topic","kind":"symbol","navigatorTitle":[{"kind":"identifier","text":"T"}],"fragments":[{"kind":"keyword","text":"typealias"},{"kind":"text","text":" "},{"kind":"identifier","text":"T"}],"title":"CooldownIntervalSpec.T"},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/DefaultContextProvider":{"identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/DefaultContextProvider","kind":"symbol","type":"topic","abstract":[{"text":"A thread-safe context provider that maintains application-wide state for specification evaluation.","type":"text"}],"title":"DefaultContextProvider","navigatorTitle":[{"text":"DefaultContextProvider","kind":"identifier"}],"url":"\/documentation\/specificationcore\/defaultcontextprovider","fragments":[{"kind":"keyword","text":"class"},{"text":" ","kind":"text"},{"text":"DefaultContextProvider","kind":"identifier"}],"role":"symbol"},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/CooldownIntervalSpec/weekly(_:)":{"url":"\/documentation\/specificationcore\/cooldownintervalspec\/weekly(_:)","abstract":[{"text":"Creates a cooldown specification for weekly restrictions","type":"text"}],"identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/weekly(_:)","role":"symbol","type":"topic","kind":"symbol","fragments":[{"text":"static","kind":"keyword"},{"text":" ","kind":"text"},{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"weekly","kind":"identifier"},{"text":"(","kind":"text"},{"text":"String","kind":"typeIdentifier","preciseIdentifier":"s:SS"},{"text":") -> ","kind":"text"},{"text":"CooldownIntervalSpec","kind":"typeIdentifier","preciseIdentifier":"s:17SpecificationCore20CooldownIntervalSpecV"}],"title":"weekly(_:)"},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/CooldownIntervalSpec/init(eventKey:minutes:)":{"type":"topic","title":"init(eventKey:minutes:)","url":"\/documentation\/specificationcore\/cooldownintervalspec\/init(eventkey:minutes:)","kind":"symbol","abstract":[{"type":"text","text":"Creates a new CooldownIntervalSpec with interval in minutes"}],"identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/init(eventKey:minutes:)","role":"symbol","fragments":[{"kind":"identifier","text":"init"},{"text":"(","kind":"text"},{"kind":"externalParam","text":"eventKey"},{"kind":"text","text":": "},{"preciseIdentifier":"s:SS","kind":"typeIdentifier","text":"String"},{"text":", ","kind":"text"},{"text":"minutes","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"TimeInterval","preciseIdentifier":"c:@T@NSTimeInterval","kind":"typeIdentifier"},{"kind":"text","text":")"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/CooldownIntervalSpec/init(eventKey:hours:)":{"type":"topic","url":"\/documentation\/specificationcore\/cooldownintervalspec\/init(eventkey:hours:)","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/init(eventKey:hours:)","role":"symbol","title":"init(eventKey:hours:)","abstract":[{"type":"text","text":"Creates a new CooldownIntervalSpec with interval in hours"}],"kind":"symbol","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"eventKey"},{"kind":"text","text":": "},{"preciseIdentifier":"s:SS","kind":"typeIdentifier","text":"String"},{"kind":"text","text":", "},{"kind":"externalParam","text":"hours"},{"kind":"text","text":": "},{"preciseIdentifier":"c:@T@NSTimeInterval","kind":"typeIdentifier","text":"TimeInterval"},{"kind":"text","text":")"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/MockContextProvider":{"identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MockContextProvider","kind":"symbol","type":"topic","abstract":[{"text":"A mock context provider designed for unit testing.","type":"text"},{"text":" ","type":"text"},{"text":"This provider allows you to set up specific context scenarios","type":"text"},{"text":" ","type":"text"},{"text":"and verify that specifications behave correctly under controlled conditions.","type":"text"}],"title":"MockContextProvider","navigatorTitle":[{"text":"MockContextProvider","kind":"identifier"}],"url":"\/documentation\/specificationcore\/mockcontextprovider","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"MockContextProvider","kind":"identifier"}],"role":"symbol"},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/TimeSinceEventSpec":{"url":"\/documentation\/specificationcore\/timesinceeventspec","abstract":[{"type":"text","text":"A specification that checks if a minimum duration has passed since a specific event."},{"type":"text","text":" "},{"text":"This is useful for implementing cooldown periods, delays, or time-based restrictions.","type":"text"}],"identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/TimeSinceEventSpec","role":"symbol","type":"topic","kind":"symbol","navigatorTitle":[{"kind":"identifier","text":"TimeSinceEventSpec"}],"fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"TimeSinceEventSpec","kind":"identifier"}],"title":"TimeSinceEventSpec"},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/CooldownIntervalSpec/nextAllowedTime(in:)":{"type":"topic","url":"\/documentation\/specificationcore\/cooldownintervalspec\/nextallowedtime(in:)","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/nextAllowedTime(in:)","role":"symbol","title":"nextAllowedTime(in:)","abstract":[{"type":"text","text":"Gets the next allowed time for the event"}],"kind":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"nextAllowedTime","kind":"identifier"},{"text":"(","kind":"text"},{"text":"in","kind":"externalParam"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:17SpecificationCore17EvaluationContextV","text":"EvaluationContext"},{"text":") -> ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:10Foundation4DateV","text":"Date"},{"text":"?","kind":"text"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/CooldownIntervalSpec/custom(_:interval:)":{"role":"symbol","kind":"symbol","fragments":[{"text":"static","kind":"keyword"},{"text":" ","kind":"text"},{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"custom","kind":"identifier"},{"text":"(","kind":"text"},{"preciseIdentifier":"s:SS","text":"String","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"interval","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"c:@T@NSTimeInterval","text":"TimeInterval","kind":"typeIdentifier"},{"text":") -> ","kind":"text"},{"preciseIdentifier":"s:17SpecificationCore20CooldownIntervalSpecV","text":"CooldownIntervalSpec","kind":"typeIdentifier"}],"title":"custom(_:interval:)","abstract":[{"text":"Creates a cooldown specification with a custom time interval","type":"text"}],"url":"\/documentation\/specificationcore\/cooldownintervalspec\/custom(_:interval:)","type":"topic","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/custom(_:interval:)"},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/CooldownIntervalSpec/cooldownInterval":{"role":"symbol","title":"cooldownInterval","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/cooldownInterval","url":"\/documentation\/specificationcore\/cooldownintervalspec\/cooldowninterval","kind":"symbol","type":"topic","abstract":[{"text":"The minimum time interval that must pass between occurrences","type":"text"}],"fragments":[{"text":"let","kind":"keyword"},{"text":" ","kind":"text"},{"text":"cooldownInterval","kind":"identifier"},{"text":": ","kind":"text"},{"text":"TimeInterval","preciseIdentifier":"c:@T@NSTimeInterval","kind":"typeIdentifier"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/CooldownIntervalSpec/init(eventKey:seconds:)":{"role":"symbol","title":"init(eventKey:seconds:)","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/init(eventKey:seconds:)","kind":"symbol","url":"\/documentation\/specificationcore\/cooldownintervalspec\/init(eventkey:seconds:)","type":"topic","abstract":[{"text":"Creates a new CooldownIntervalSpec with interval in seconds","type":"text"}],"fragments":[{"text":"init","kind":"identifier"},{"text":"(","kind":"text"},{"text":"eventKey","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"String","kind":"typeIdentifier","preciseIdentifier":"s:SS"},{"text":", ","kind":"text"},{"text":"seconds","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"TimeInterval","kind":"typeIdentifier","preciseIdentifier":"c:@T@NSTimeInterval"},{"kind":"text","text":")"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/CooldownIntervalSpec/isCooldownActive(in:)":{"fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"isCooldownActive","kind":"identifier"},{"text":"(","kind":"text"},{"text":"in","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:17SpecificationCore17EvaluationContextV","text":"EvaluationContext","kind":"typeIdentifier"},{"text":") -> ","kind":"text"},{"text":"Bool","preciseIdentifier":"s:Sb","kind":"typeIdentifier"}],"type":"topic","kind":"symbol","abstract":[{"type":"text","text":"Checks if the cooldown is currently active"}],"url":"\/documentation\/specificationcore\/cooldownintervalspec\/iscooldownactive(in:)","title":"isCooldownActive(in:)","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/isCooldownActive(in:)","role":"symbol"},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/CooldownIntervalSpec/init(eventKey:cooldownInterval:)":{"url":"\/documentation\/specificationcore\/cooldownintervalspec\/init(eventkey:cooldowninterval:)","type":"topic","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/init(eventKey:cooldownInterval:)","role":"symbol","title":"init(eventKey:cooldownInterval:)","abstract":[{"text":"Creates a new CooldownIntervalSpec","type":"text"}],"kind":"symbol","fragments":[{"text":"init","kind":"identifier"},{"text":"(","kind":"text"},{"text":"eventKey","kind":"externalParam"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:SS","text":"String"},{"text":", ","kind":"text"},{"text":"cooldownInterval","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"TimeInterval","kind":"typeIdentifier","preciseIdentifier":"c:@T@NSTimeInterval"},{"text":")","kind":"text"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/CooldownIntervalSpec/hourly(_:)":{"url":"\/documentation\/specificationcore\/cooldownintervalspec\/hourly(_:)","abstract":[{"text":"Creates a cooldown specification for hourly restrictions","type":"text"}],"identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/hourly(_:)","role":"symbol","type":"topic","kind":"symbol","fragments":[{"text":"static","kind":"keyword"},{"text":" ","kind":"text"},{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"hourly","kind":"identifier"},{"text":"(","kind":"text"},{"text":"String","preciseIdentifier":"s:SS","kind":"typeIdentifier"},{"text":") -> ","kind":"text"},{"text":"CooldownIntervalSpec","preciseIdentifier":"s:17SpecificationCore20CooldownIntervalSpecV","kind":"typeIdentifier"}],"title":"hourly(_:)"},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/CooldownIntervalSpec/exponentialBackoff(eventKey:baseInterval:counterKey:maxInterval:)":{"role":"symbol","kind":"symbol","fragments":[{"text":"static","kind":"keyword"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"text":"exponentialBackoff","kind":"identifier"},{"text":"(","kind":"text"},{"text":"eventKey","kind":"externalParam"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":", "},{"kind":"externalParam","text":"baseInterval"},{"text":": ","kind":"text"},{"text":"TimeInterval","kind":"typeIdentifier","preciseIdentifier":"c:@T@NSTimeInterval"},{"text":", ","kind":"text"},{"text":"counterKey","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"String","kind":"typeIdentifier","preciseIdentifier":"s:SS"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"maxInterval"},{"kind":"text","text":": "},{"text":"TimeInterval","kind":"typeIdentifier","preciseIdentifier":"c:@T@NSTimeInterval"},{"kind":"text","text":"?) -> "},{"text":"AnySpecification","preciseIdentifier":"s:17SpecificationCore03AnyA0V","kind":"typeIdentifier"},{"text":"<","kind":"text"},{"text":"EvaluationContext","preciseIdentifier":"s:17SpecificationCore17EvaluationContextV","kind":"typeIdentifier"},{"text":">","kind":"text"}],"title":"exponentialBackoff(eventKey:baseInterval:counterKey:maxInterval:)","type":"topic","url":"\/documentation\/specificationcore\/cooldownintervalspec\/exponentialbackoff(eventkey:baseinterval:counterkey:maxinterval:)","abstract":[{"text":"Creates a specification that implements exponential backoff cooldowns","type":"text"},{"text":" ","type":"text"},{"text":"The cooldown time increases exponentially with each occurrence","type":"text"}],"identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/exponentialBackoff(eventKey:baseInterval:counterKey:maxInterval:)"},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/CooldownIntervalSpec/timeOfDayBased(eventKey:daytimeInterval:nighttimeInterval:daytimeHours:)":{"role":"symbol","title":"timeOfDayBased(eventKey:daytimeInterval:nighttimeInterval:daytimeHours:)","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/timeOfDayBased(eventKey:daytimeInterval:nighttimeInterval:daytimeHours:)","kind":"symbol","url":"\/documentation\/specificationcore\/cooldownintervalspec\/timeofdaybased(eventkey:daytimeinterval:nighttimeinterval:daytimehours:)","type":"topic","abstract":[{"text":"Creates a specification with different cooldown intervals based on the time of day","type":"text"}],"fragments":[{"text":"static","kind":"keyword"},{"text":" ","kind":"text"},{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"timeOfDayBased"},{"kind":"text","text":"("},{"kind":"externalParam","text":"eventKey"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":", "},{"text":"daytimeInterval","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"c:@T@NSTimeInterval","text":"TimeInterval","kind":"typeIdentifier"},{"kind":"text","text":", "},{"kind":"externalParam","text":"nighttimeInterval"},{"text":": ","kind":"text"},{"preciseIdentifier":"c:@T@NSTimeInterval","text":"TimeInterval","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"daytimeHours","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"ClosedRange","kind":"typeIdentifier","preciseIdentifier":"s:SN"},{"text":"<","kind":"text"},{"text":"Int","preciseIdentifier":"s:Si","kind":"typeIdentifier"},{"text":">) -> ","kind":"text"},{"text":"AnySpecification","preciseIdentifier":"s:17SpecificationCore03AnyA0V","kind":"typeIdentifier"},{"text":"<","kind":"text"},{"preciseIdentifier":"s:17SpecificationCore17EvaluationContextV","kind":"typeIdentifier","text":"EvaluationContext"},{"kind":"text","text":">"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/FirstMatchSpec":{"url":"\/documentation\/specificationcore\/firstmatchspec","type":"topic","navigatorTitle":[{"text":"FirstMatchSpec","kind":"identifier"}],"abstract":[{"text":"A decision specification that evaluates child specifications in order and returns","type":"text"},{"text":" ","type":"text"},{"text":"the result of the first one that is satisfied.","type":"text"}],"title":"FirstMatchSpec","kind":"symbol","role":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"FirstMatchSpec","kind":"identifier"}],"identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/FirstMatchSpec"},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/MaxCountSpec":{"navigatorTitle":[{"text":"MaxCountSpec","kind":"identifier"}],"type":"topic","kind":"symbol","url":"\/documentation\/specificationcore\/maxcountspec","title":"MaxCountSpec","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec","abstract":[{"type":"text","text":"A specification that checks if a counter is below a maximum threshold."},{"type":"text","text":" "},{"type":"text","text":"This is useful for implementing limits on actions, display counts, or usage restrictions."}],"role":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"MaxCountSpec","kind":"identifier"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/CooldownIntervalSpec/isSatisfiedBy(_:)":{"url":"\/documentation\/specificationcore\/cooldownintervalspec\/issatisfiedby(_:)","type":"topic","kind":"symbol","title":"isSatisfiedBy(_:)","abstract":[{"text":"Evaluates whether the given context satisfies this specification.","type":"text"}],"role":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"isSatisfiedBy","kind":"identifier"},{"text":"(","kind":"text"},{"text":"EvaluationContext","kind":"typeIdentifier","preciseIdentifier":"s:17SpecificationCore17EvaluationContextV"},{"text":") -> ","kind":"text"},{"text":"Bool","kind":"typeIdentifier","preciseIdentifier":"s:Sb"}],"identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/isSatisfiedBy(_:)"},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/CooldownIntervalSpec/monthly(_:)":{"type":"topic","kind":"symbol","url":"\/documentation\/specificationcore\/cooldownintervalspec\/monthly(_:)","title":"monthly(_:)","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/monthly(_:)","abstract":[{"text":"Creates a cooldown specification for monthly restrictions (30 days)","type":"text"}],"role":"symbol","fragments":[{"text":"static","kind":"keyword"},{"text":" ","kind":"text"},{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"monthly","kind":"identifier"},{"text":"(","kind":"text"},{"text":"String","kind":"typeIdentifier","preciseIdentifier":"s:SS"},{"text":") -> ","kind":"text"},{"text":"CooldownIntervalSpec","kind":"typeIdentifier","preciseIdentifier":"s:17SpecificationCore20CooldownIntervalSpecV"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/CooldownIntervalSpec/remainingCooldownTime(in:)":{"fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"remainingCooldownTime","kind":"identifier"},{"text":"(","kind":"text"},{"text":"in","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"EvaluationContext","kind":"typeIdentifier","preciseIdentifier":"s:17SpecificationCore17EvaluationContextV"},{"text":") -> ","kind":"text"},{"text":"TimeInterval","kind":"typeIdentifier","preciseIdentifier":"c:@T@NSTimeInterval"}],"type":"topic","kind":"symbol","abstract":[{"type":"text","text":"Calculates the remaining cooldown time for the specified context"}],"url":"\/documentation\/specificationcore\/cooldownintervalspec\/remainingcooldowntime(in:)","title":"remainingCooldownTime(in:)","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/remainingCooldownTime(in:)","role":"symbol"},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore":{"type":"topic","kind":"symbol","url":"\/documentation\/specificationcore","title":"SpecificationCore","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore","abstract":[{"type":"text","text":"Platform-independent core for building specification-based business logic in Swift."}],"role":"collection"},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/DateRangeSpec":{"identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/DateRangeSpec","url":"\/documentation\/specificationcore\/daterangespec","abstract":[{"text":"Succeeds when ","type":"text"},{"type":"codeVoice","code":"currentDate"},{"type":"text","text":" is within the inclusive range [start, end]."}],"kind":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"kind":"text","text":" "},{"text":"DateRangeSpec","kind":"identifier"}],"title":"DateRangeSpec","type":"topic","role":"symbol","navigatorTitle":[{"text":"DateRangeSpec","kind":"identifier"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/DateComparisonSpec":{"type":"topic","navigatorTitle":[{"text":"DateComparisonSpec","kind":"identifier"}],"title":"DateComparisonSpec","url":"\/documentation\/specificationcore\/datecomparisonspec","kind":"symbol","abstract":[{"text":"Compares the date of a stored event to a reference date using before\/after.","type":"text"}],"identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/DateComparisonSpec","role":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"DateComparisonSpec","kind":"identifier"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/CooldownIntervalSpec/or(_:)":{"type":"topic","title":"or(_:)","url":"\/documentation\/specificationcore\/cooldownintervalspec\/or(_:)","kind":"symbol","abstract":[{"type":"text","text":"Combines this cooldown with another cooldown using OR logic"},{"type":"text","text":" "},{"type":"text","text":"Either cooldown being satisfied will satisfy the combined specification"}],"identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/or(_:)","role":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"or","kind":"identifier"},{"text":"(","kind":"text"},{"preciseIdentifier":"s:17SpecificationCore20CooldownIntervalSpecV","text":"CooldownIntervalSpec","kind":"typeIdentifier"},{"text":") -> ","kind":"text"},{"preciseIdentifier":"s:17SpecificationCore02OrA0V","text":"OrSpecification","kind":"typeIdentifier"},{"text":"<","kind":"text"},{"preciseIdentifier":"s:17SpecificationCore20CooldownIntervalSpecV","text":"CooldownIntervalSpec","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"preciseIdentifier":"s:17SpecificationCore20CooldownIntervalSpecV","text":"CooldownIntervalSpec","kind":"typeIdentifier"},{"text":">","kind":"text"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/CooldownIntervalSpec":{"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"CooldownIntervalSpec"}],"type":"topic","kind":"symbol","abstract":[{"type":"text","text":"A specification that ensures enough time has passed since the last occurrence of an event."},{"type":"text","text":" "},{"type":"text","text":"This is particularly useful for implementing cooldown periods for actions like showing banners,"},{"type":"text","text":" "},{"type":"text","text":"notifications, or any other time-sensitive operations that shouldn’t happen too frequently."}],"url":"\/documentation\/specificationcore\/cooldownintervalspec","title":"CooldownIntervalSpec","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"CooldownIntervalSpec"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/Specification":{"url":"\/documentation\/specificationcore\/specification","type":"topic","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/Specification","role":"symbol","title":"Specification","abstract":[{"text":"A specification that evaluates whether a context satisfies certain conditions.","type":"text"}],"navigatorTitle":[{"kind":"identifier","text":"Specification"}],"kind":"symbol","fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"Specification"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/CooldownIntervalSpec/init(eventKey:days:)":{"type":"topic","url":"\/documentation\/specificationcore\/cooldownintervalspec\/init(eventkey:days:)","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/init(eventKey:days:)","role":"symbol","title":"init(eventKey:days:)","abstract":[{"text":"Creates a new CooldownIntervalSpec with interval in days","type":"text"}],"kind":"symbol","fragments":[{"text":"init","kind":"identifier"},{"text":"(","kind":"text"},{"text":"eventKey","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"String","preciseIdentifier":"s:SS","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"days","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"c:@T@NSTimeInterval","text":"TimeInterval","kind":"typeIdentifier"},{"text":")","kind":"text"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/PredicateSpec":{"role":"symbol","kind":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"PredicateSpec","kind":"identifier"}],"abstract":[{"text":"A specification that accepts a closure for arbitrary logic.","type":"text"},{"text":" ","type":"text"},{"text":"This provides maximum flexibility for custom business rules that don’t fit","type":"text"},{"text":" ","type":"text"},{"text":"into the standard specification patterns.","type":"text"}],"type":"topic","url":"\/documentation\/specificationcore\/predicatespec","title":"PredicateSpec","navigatorTitle":[{"text":"PredicateSpec","kind":"identifier"}],"identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/PredicateSpec"},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/CooldownIntervalSpec/daily(_:)":{"type":"topic","kind":"symbol","url":"\/documentation\/specificationcore\/cooldownintervalspec\/daily(_:)","title":"daily(_:)","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/daily(_:)","abstract":[{"text":"Creates a cooldown specification for daily restrictions","type":"text"}],"role":"symbol","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"daily"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"CooldownIntervalSpec","preciseIdentifier":"s:17SpecificationCore20CooldownIntervalSpecV"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/CooldownIntervalSpec/and(_:)":{"kind":"symbol","title":"and(_:)","abstract":[{"type":"text","text":"Combines this cooldown with another cooldown using AND logic"},{"type":"text","text":" "},{"type":"text","text":"Both cooldowns must be satisfied for the combined specification to be satisfied"}],"type":"topic","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec\/and(_:)","role":"symbol","url":"\/documentation\/specificationcore\/cooldownintervalspec\/and(_:)","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"and","kind":"identifier"},{"text":"(","kind":"text"},{"preciseIdentifier":"s:17SpecificationCore20CooldownIntervalSpecV","text":"CooldownIntervalSpec","kind":"typeIdentifier"},{"text":") -> ","kind":"text"},{"preciseIdentifier":"s:17SpecificationCore03AndA0V","text":"AndSpecification","kind":"typeIdentifier"},{"text":"<","kind":"text"},{"preciseIdentifier":"s:17SpecificationCore20CooldownIntervalSpecV","text":"CooldownIntervalSpec","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"preciseIdentifier":"s:17SpecificationCore20CooldownIntervalSpecV","text":"CooldownIntervalSpec","kind":"typeIdentifier"},{"text":">","kind":"text"}]}}}