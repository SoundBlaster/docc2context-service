{"variants":[{"paths":["\/documentation\/specificationcore\/maxcountspec"],"traits":[{"interfaceLanguage":"swift"}]}],"kind":"symbol","metadata":{"symbolKind":"struct","roleHeading":"Structure","role":"symbol","modules":[{"name":"SpecificationCore"}],"title":"MaxCountSpec","navigatorTitle":[{"kind":"identifier","text":"MaxCountSpec"}],"externalID":"s:17SpecificationCore12MaxCountSpecV","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"MaxCountSpec","kind":"identifier"}]},"sections":[],"seeAlsoSections":[{"title":"Related Documentation","identifiers":["doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/EvaluationContext","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/DefaultContextProvider","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/TimeSinceEventSpec"],"anchor":"Related-Documentation"},{"anchor":"Basic-Specifications","title":"Basic Specifications","identifiers":["doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/PredicateSpec","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/FirstMatchSpec","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/TimeSinceEventSpec","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/DateRangeSpec","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/DateComparisonSpec"],"generated":true}],"abstract":[{"type":"text","text":"A specification that checks if a counter is below a maximum threshold."},{"type":"text","text":" "},{"type":"text","text":"This is useful for implementing limits on actions, display counts, or usage restrictions."}],"identifier":{"url":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec","interfaceLanguage":"swift"},"hierarchy":{"paths":[["doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore"]]},"topicSections":[{"anchor":"Creating-Specifications","identifiers":["doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec\/init(counterKey:maximumCount:)","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec\/init(counterKey:limit:)"],"title":"Creating Specifications"},{"anchor":"Convenience-Factories","identifiers":["doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec\/counter(_:limit:)","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec\/onlyOnce(_:)","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec\/onlyTwice(_:)","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec\/dailyLimit(_:limit:)","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec\/weeklyLimit(_:limit:)","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec\/monthlyLimit(_:limit:)"],"title":"Convenience Factories"},{"anchor":"Variant-Specifications","identifiers":["doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec\/inclusive(counterKey:maximumCount:)","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec\/exactly(counterKey:count:)","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec\/inRange(counterKey:range:)"],"title":"Variant Specifications"},{"title":"Composition","identifiers":["doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec\/and(_:)","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec\/or(_:)"],"anchor":"Composition"},{"title":"Properties","identifiers":["doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec\/counterKey","doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec\/maximumCount"],"anchor":"Properties"},{"anchor":"Instance-Methods","title":"Instance Methods","identifiers":["doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec\/isSatisfiedBy(_:)"],"generated":true},{"anchor":"Type-Aliases","title":"Type Aliases","identifiers":["doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec\/T"],"generated":true},{"anchor":"Default-Implementations","title":"Default Implementations","identifiers":["doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec\/Specification-Implementations"],"generated":true}],"schemaVersion":{"patch":0,"major":0,"minor":3},"relationshipsSections":[{"kind":"relationships","title":"Conforms To","identifiers":["doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/Specification"],"type":"conformsTo"}],"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"MaxCountSpec"}],"languages":["swift"],"platforms":["macOS"]}]},{"kind":"content","content":[{"type":"heading","level":2,"anchor":"overview","text":"Overview"},{"type":"paragraph","inlineContent":[{"text":"A specification that checks if a counter is below a maximum threshold.","type":"text"}]},{"type":"heading","level":2,"anchor":"Overview","text":"Overview"},{"type":"paragraph","inlineContent":[{"code":"MaxCountSpec","type":"codeVoice"},{"text":" is used to implement limits on actions, display counts, or usage restrictions. It evaluates to true when a counter value is strictly less than a specified maximum, making it ideal for rate limiting, usage quotas, and feature restrictions.","type":"text"}]},{"type":"heading","level":3,"anchor":"Key-Benefits","text":"Key Benefits"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"Simple Usage Limits"}],"type":"strong"},{"text":": Implement counters and quotas easily","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Context-Based","type":"text"}]},{"type":"text","text":": Works with "},{"type":"reference","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/EvaluationContext","isActive":true},{"text":" counters","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"Type-Safe","type":"text"}]},{"type":"text","text":": Compile-time safety for counter keys and limits"}]}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Flexible Variants"}]},{"text":": Inclusive, exclusive, exact, and range checks","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"Composable"}],"type":"strong"},{"text":": Combine with other specifications","type":"text"}]}]}],"type":"unorderedList"},{"level":3,"anchor":"When-to-Use-MaxCountSpec","text":"When to Use MaxCountSpec","type":"heading"},{"type":"paragraph","inlineContent":[{"text":"Use ","type":"text"},{"type":"codeVoice","code":"MaxCountSpec"},{"text":" when you need to:","type":"text"}]},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Limit the number of times an action can be performed"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Implement daily, weekly, or monthly quotas"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Restrict feature usage based on tier or plan"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Control banner or notification display frequency","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Enforce API rate limits"}],"type":"paragraph"}]}],"type":"unorderedList"},{"level":2,"anchor":"Quick-Example","text":"Quick Example","type":"heading"},{"type":"codeListing","syntax":"swift","code":["import SpecificationCore","","\/\/ Set up context","let provider = DefaultContextProvider.shared","provider.setCounter(\"api_calls_today\", to: 50)","","\/\/ Create spec with limit of 100","let apiLimitSpec = MaxCountSpec(","    counterKey: \"api_calls_today\",","    maximumCount: 100",")","","\/\/ Use with property wrapper","@Satisfies(using: apiLimitSpec)","var canMakeAPICall: Bool","","if canMakeAPICall {","    makeAPICall()","    provider.incrementCounter(\"api_calls_today\")","}"]},{"level":2,"anchor":"Creating-MaxCountSpec","text":"Creating MaxCountSpec","type":"heading"},{"level":3,"anchor":"Basic-Creation","text":"Basic Creation","type":"heading"},{"type":"codeListing","syntax":"swift","code":["\/\/ Standard initialization","let spec = MaxCountSpec(","    counterKey: \"login_attempts\",","    maximumCount: 5",")","","\/\/ Alternative with \"limit\" parameter","let spec2 = MaxCountSpec(","    counterKey: \"login_attempts\",","    limit: 5",")","","\/\/ Both are equivalent"]},{"level":3,"anchor":"Convenience-Factories","text":"Convenience Factories","type":"heading"},{"type":"codeListing","syntax":"swift","code":["\/\/ Generic counter limit","let downloadLimit = MaxCountSpec.counter(\"downloads\", limit: 10)","","\/\/ Single-use actions","let showOnce = MaxCountSpec.onlyOnce(\"tutorial_shown\")","","\/\/ Allow twice","let allowTwice = MaxCountSpec.onlyTwice(\"password_reset\")","","\/\/ Time-period limits","let dailyLimit = MaxCountSpec.dailyLimit(\"api_calls\", limit: 1000)","let weeklyLimit = MaxCountSpec.weeklyLimit(\"reports_generated\", limit: 50)","let monthlyLimit = MaxCountSpec.monthlyLimit(\"exports\", limit: 10)"]},{"level":2,"anchor":"How-It-Works","text":"How It Works","type":"heading"},{"inlineContent":[{"type":"text","text":"The specification checks if the counter is "},{"inlineContent":[{"type":"text","text":"strictly less than"}],"type":"strong"},{"type":"text","text":" the maximum:"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["let spec = MaxCountSpec(counterKey: \"attempts\", maximumCount: 3)","","\/\/ Counter = 0: satisfied (0 < 3) ✅","\/\/ Counter = 1: satisfied (1 < 3) ✅","\/\/ Counter = 2: satisfied (2 < 3) ✅","\/\/ Counter = 3: NOT satisfied (3 < 3) ❌","\/\/ Counter = 4: NOT satisfied (4 < 3) ❌"]},{"level":2,"anchor":"Usage-Examples","text":"Usage Examples","type":"heading"},{"level":3,"anchor":"API-Rate-Limiting","text":"API Rate Limiting","type":"heading"},{"type":"codeListing","syntax":"swift","code":["let provider = DefaultContextProvider.shared","","\/\/ Set initial count","provider.setCounter(\"api_requests\", to: 0)","","\/\/ Create rate limit spec","@Satisfies(using: MaxCountSpec(counterKey: \"api_requests\", maximumCount: 100))","var canMakeRequest: Bool","","func makeAPIRequest() async throws -> Response {","    guard canMakeRequest else {","        throw APIError.rateLimitExceeded","    }","","    let response = try await performRequest()","    provider.incrementCounter(\"api_requests\")","    return response","}","","\/\/ Reset daily","func resetDailyLimits() {","    provider.resetCounter(\"api_requests\")","}"]},{"level":3,"anchor":"Feature-Usage-Limits","text":"Feature Usage Limits","type":"heading"},{"type":"codeListing","syntax":"swift","code":["\/\/ Premium users: 100 exports per month","\/\/ Free users: 5 exports per month","","let provider = DefaultContextProvider.shared","let isPremium = \/\/ ... determine user tier","","let exportLimit = isPremium","    ? MaxCountSpec.monthlyLimit(\"exports\", limit: 100)","    : MaxCountSpec.monthlyLimit(\"exports\", limit: 5)","","@Satisfies(using: exportLimit)","var canExport: Bool","","if canExport {","    performExport()","    provider.incrementCounter(\"exports\")","}"]},{"level":3,"anchor":"Banner-Display-Limits","text":"Banner Display Limits","type":"heading"},{"type":"codeListing","syntax":"swift","code":["\/\/ Show promotional banner maximum 3 times","let bannerSpec = MaxCountSpec.counter(\"promo_banner_shown\", limit: 3)","","@Satisfies(using: bannerSpec)","var shouldShowBanner: Bool","","struct ContentView: View {","    var body: some View {","        VStack {","            if shouldShowBanner {","                PromoBanner()","                    .onAppear {","                        DefaultContextProvider.shared","                            .incrementCounter(\"promo_banner_shown\")","                    }","            }","            MainContent()","        }","    }","}"]},{"level":3,"anchor":"Trial-Limits","text":"Trial Limits","type":"heading"},{"type":"codeListing","syntax":"swift","code":["\/\/ Free trial: 10 AI generations","let trialSpec = MaxCountSpec(","    counterKey: \"ai_generations\",","    maximumCount: 10",")","","@Satisfies(using: trialSpec)","var canGenerateAI: Bool","","if canGenerateAI {","    let result = generateAIContent()","    provider.incrementCounter(\"ai_generations\")","    return result","} else {","    showUpgradePrompt()","}"]},{"level":2,"anchor":"Variant-Specifications","text":"Variant Specifications","type":"heading"},{"level":3,"anchor":"Inclusive-Maximum","text":"Inclusive Maximum","type":"heading"},{"inlineContent":[{"type":"text","text":"Allow values up to and including the maximum:"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["\/\/ Allow 0, 1, 2, 3, 4, 5 (inclusive)","let inclusiveSpec = MaxCountSpec.inclusive(","    counterKey: \"attempts\",","    maximumCount: 5",")","","\/\/ Counter = 5: satisfied (5 <= 5) ✅","\/\/ Counter = 6: NOT satisfied (6 <= 5) ❌"]},{"level":3,"anchor":"Exact-Count","text":"Exact Count","type":"heading"},{"inlineContent":[{"text":"Match an exact counter value:","type":"text"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["\/\/ Satisfied only when counter equals 3","let exactSpec = MaxCountSpec.exactly(","    counterKey: \"steps_completed\",","    count: 3",")","","\/\/ Counter = 2: NOT satisfied ❌","\/\/ Counter = 3: satisfied ✅","\/\/ Counter = 4: NOT satisfied ❌"]},{"level":3,"anchor":"Range-Checks","text":"Range Checks","type":"heading"},{"inlineContent":[{"text":"Check if counter is within a range:","type":"text"}],"type":"paragraph"},{"code":["\/\/ Satisfied when counter is between 10 and 20 (inclusive)","let rangeSpec = MaxCountSpec.inRange(","    counterKey: \"items\",","    range: 10...20",")","","\/\/ Counter = 9: NOT satisfied ❌","\/\/ Counter = 15: satisfied ✅","\/\/ Counter = 21: NOT satisfied ❌"],"type":"codeListing","syntax":"swift"},{"anchor":"Composition","text":"Composition","type":"heading","level":2},{"inlineContent":[{"text":"Combine with other MaxCountSpecs or specifications:","type":"text"}],"type":"paragraph"},{"anchor":"AND-Combination","text":"AND Combination","type":"heading","level":3},{"code":["\/\/ Both limits must be satisfied","let multiLimit = MaxCountSpec(counterKey: \"daily_requests\", maximumCount: 100)","    .and(MaxCountSpec(counterKey: \"hourly_requests\", maximumCount: 10))","","\/\/ Requires daily < 100 AND hourly < 10"],"type":"codeListing","syntax":"swift"},{"anchor":"OR-Combination","text":"OR Combination","type":"heading","level":3},{"code":["\/\/ Either limit can be satisfied","let flexibleLimit = MaxCountSpec(counterKey: \"free_tier_calls\", maximumCount: 10)","    .or(MaxCountSpec(counterKey: \"premium_tier_calls\", maximumCount: 1000))","","\/\/ Allows either counter to be under limit"],"type":"codeListing","syntax":"swift"},{"anchor":"With-Other-Specifications","text":"With Other Specifications","type":"heading","level":3},{"code":["\/\/ Counter limit AND feature flag","let combinedSpec = MaxCountSpec(counterKey: \"feature_uses\", maximumCount: 5)","    .and(FeatureFlagSpec(flagKey: \"feature_enabled\"))","","\/\/ Must be under limit AND feature must be enabled"],"type":"codeListing","syntax":"swift"},{"anchor":"Real-World-Examples","text":"Real-World Examples","type":"heading","level":2},{"anchor":"Multi-Tier-Access-Control","text":"Multi-Tier Access Control","type":"heading","level":3},{"code":["enum UserTier {","    case free, basic, premium, enterprise","}","","func getAPILimitSpec(for tier: UserTier) -> MaxCountSpec {","    switch tier {","    case .free:","        return MaxCountSpec.dailyLimit(\"api_calls\", limit: 100)","    case .basic:","        return MaxCountSpec.dailyLimit(\"api_calls\", limit: 1000)","    case .premium:","        return MaxCountSpec.dailyLimit(\"api_calls\", limit: 10000)","    case .enterprise:","        return MaxCountSpec.dailyLimit(\"api_calls\", limit: 100000)","    }","}","","let limitSpec = getAPILimitSpec(for: currentUserTier)","","@Satisfies(using: limitSpec)","var canCallAPI: Bool"],"type":"codeListing","syntax":"swift"},{"anchor":"Onboarding-Flow","text":"Onboarding Flow","type":"heading","level":3},{"code":["\/\/ Show onboarding only on first 3 app launches","let onboardingSpec = MaxCountSpec.counter(\"app_launches\", limit: 3)","","@Satisfies(using: onboardingSpec)","var shouldShowOnboarding: Bool","","func application(_ application: UIApplication, didFinishLaunchingWithOptions...) {","    DefaultContextProvider.shared.incrementCounter(\"app_launches\")","","    if shouldShowOnboarding {","        presentOnboarding()","    }","}"],"type":"codeListing","syntax":"swift"},{"anchor":"Password-Reset-Limits","text":"Password Reset Limits","type":"heading","level":3},{"code":["\/\/ Allow 3 password reset attempts per hour","let resetLimitSpec = MaxCountSpec(","    counterKey: \"password_reset_attempts\",","    maximumCount: 3",")","","@Satisfies(using: resetLimitSpec)","var canResetPassword: Bool","","func requestPasswordReset() {","    guard canResetPassword else {","        showError(\"Too many reset attempts. Try again in an hour.\")","        return","    }","","    sendPasswordResetEmail()","    DefaultContextProvider.shared.incrementCounter(\"password_reset_attempts\")","}","","\/\/ Reset hourly","Timer.scheduledTimer(withTimeInterval: 3600, repeats: true) { _ in","    DefaultContextProvider.shared.resetCounter(\"password_reset_attempts\")","}"],"type":"codeListing","syntax":"swift"},{"anchor":"Feature-Rollout-with-Limits","text":"Feature Rollout with Limits","type":"heading","level":3},{"code":["\/\/ New feature limited to first 1000 users","let betaAccessSpec = MaxCountSpec(","    counterKey: \"beta_users_enrolled\",","    maximumCount: 1000",")","","@Satisfies(using: betaAccessSpec)","var canEnrollInBeta: Bool","","func enrollInBeta() {","    guard canEnrollInBeta else {","        showAlert(\"Beta program is full\")","        return","    }","","    enrollUser()","    DefaultContextProvider.shared.incrementCounter(\"beta_users_enrolled\")","}"],"type":"codeListing","syntax":"swift"},{"anchor":"Testing","text":"Testing","type":"heading","level":2},{"inlineContent":[{"text":"Test counter-based logic with ","type":"text"},{"isActive":true,"identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MockContextProvider","type":"reference"},{"text":":","type":"text"}],"type":"paragraph"},{"code":["func testAPIRateLimit() {","    \/\/ Setup mock with counter at 99","    let provider = MockContextProvider()","        .withCounter(\"api_calls\", value: 99)","","    let spec = MaxCountSpec(counterKey: \"api_calls\", maximumCount: 100)","","    \/\/ Should be satisfied (99 < 100)","    XCTAssertTrue(spec.isSatisfiedBy(provider.currentContext()))","","    \/\/ Test at limit","    let atLimit = MockContextProvider()","        .withCounter(\"api_calls\", value: 100)","","    \/\/ Should NOT be satisfied (100 < 100 is false)","    XCTAssertFalse(spec.isSatisfiedBy(atLimit.currentContext()))","}","","func testExactCount() {","    let spec = MaxCountSpec.exactly(counterKey: \"steps\", count: 3)","","    \/\/ Not satisfied before reaching count","    let before = MockContextProvider().withCounter(\"steps\", value: 2)","    XCTAssertFalse(spec.isSatisfiedBy(before.currentContext()))","","    \/\/ Satisfied at exact count","    let exact = MockContextProvider().withCounter(\"steps\", value: 3)","    XCTAssertTrue(spec.isSatisfiedBy(exact.currentContext()))","","    \/\/ Not satisfied after exceeding count","    let after = MockContextProvider().withCounter(\"steps\", value: 4)","    XCTAssertFalse(spec.isSatisfiedBy(after.currentContext()))","}"],"type":"codeListing","syntax":"swift"},{"anchor":"Best-Practices","text":"Best Practices","type":"heading","level":2},{"anchor":"Choose-Appropriate-Limits","text":"Choose Appropriate Limits","type":"heading","level":3},{"code":["\/\/ ✅ Good - reasonable limits based on use case","let apiLimit = MaxCountSpec.dailyLimit(\"api_calls\", limit: 1000)  \/\/ Generous","let retryLimit = MaxCountSpec.counter(\"retries\", limit: 3)  \/\/ Conservative","","\/\/ ❌ Avoid - limits that don't match use case","let tooRestrictive = MaxCountSpec.dailyLimit(\"page_views\", limit: 1)  \/\/ Too low","let tooGenerous = MaxCountSpec.counter(\"login_attempts\", limit: 1000)  \/\/ Too high"],"type":"codeListing","syntax":"swift"},{"anchor":"Reset-Counters-Appropriately","text":"Reset Counters Appropriately","type":"heading","level":3},{"code":["\/\/ ✅ Good - reset at appropriate intervals","func resetDailyCounters() {","    provider.resetCounter(\"daily_api_calls\")","    provider.resetCounter(\"daily_downloads\")","}","","Timer.scheduledTimer(withTimeInterval: 86400, repeats: true) { _ in","    resetDailyCounters()","}","","\/\/ ❌ Avoid - never resetting counters","\/\/ Counters grow forever without reset"],"type":"codeListing","syntax":"swift"},{"anchor":"Use-Descriptive-Counter-Keys","text":"Use Descriptive Counter Keys","type":"heading","level":3},{"code":["\/\/ ✅ Good - clear, specific keys","let spec1 = MaxCountSpec.counter(\"password_reset_attempts_today\", limit: 3)","let spec2 = MaxCountSpec.counter(\"api_calls_per_hour\", limit: 100)","","\/\/ ❌ Avoid - ambiguous keys","let spec3 = MaxCountSpec.counter(\"count\", limit: 3)  \/\/ What count?","let spec4 = MaxCountSpec.counter(\"limit\", limit: 100)  \/\/ Confusing"],"type":"codeListing","syntax":"swift"},{"anchor":"Handle-Counter-Overflow-Gracefully","text":"Handle Counter Overflow Gracefully","type":"heading","level":3},{"code":["\/\/ ✅ Good - check before incrementing","if canPerformAction {","    performAction()","    provider.incrementCounter(\"actions\")","} else {","    handleLimitReached()","}","","\/\/ ❌ Avoid - increment without checking","performAction()","provider.incrementCounter(\"actions\")  \/\/ Might exceed limit"],"type":"codeListing","syntax":"swift"},{"anchor":"Performance-Considerations","text":"Performance Considerations","type":"heading","level":2},{"items":[{"content":[{"inlineContent":[{"inlineContent":[{"type":"text","text":"Dictionary Lookup"}],"type":"strong"},{"text":": O(1) counter access from context","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"No Side Effects","type":"text"}]},{"type":"text","text":": Read-only evaluation; no state modification"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"Missing Counters","type":"text"}],"type":"strong"},{"text":": Returns 0 if counter doesn’t exist; no overhead","type":"text"}]}]},{"content":[{"inlineContent":[{"inlineContent":[{"text":"Composition","type":"text"}],"type":"strong"},{"text":": Each composition creates new specification; efficient","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Context Creation"}]},{"type":"text","text":": Provider creates context on each call; lightweight operation"}]}]}],"type":"unorderedList"}]}],"references":{"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/MaxCountSpec/monthlyLimit(_:limit:)":{"type":"topic","title":"monthlyLimit(_:limit:)","url":"\/documentation\/specificationcore\/maxcountspec\/monthlylimit(_:limit:)","kind":"symbol","abstract":[{"text":"Creates a specification for monthly limits (assuming counter tracks monthly occurrences)","type":"text"}],"identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec\/monthlyLimit(_:limit:)","role":"symbol","fragments":[{"text":"static","kind":"keyword"},{"text":" ","kind":"text"},{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"monthlyLimit","kind":"identifier"},{"text":"(","kind":"text"},{"text":"String","preciseIdentifier":"s:SS","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"limit","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"Int","preciseIdentifier":"s:Si","kind":"typeIdentifier"},{"text":") -> ","kind":"text"},{"text":"MaxCountSpec","preciseIdentifier":"s:17SpecificationCore12MaxCountSpecV","kind":"typeIdentifier"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/MaxCountSpec/counter(_:limit:)":{"type":"topic","title":"counter(_:limit:)","url":"\/documentation\/specificationcore\/maxcountspec\/counter(_:limit:)","kind":"symbol","abstract":[{"type":"text","text":"Creates a specification that checks if a counter hasn’t exceeded a limit"}],"identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec\/counter(_:limit:)","role":"symbol","fragments":[{"text":"static","kind":"keyword"},{"text":" ","kind":"text"},{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"counter","kind":"identifier"},{"text":"(","kind":"text"},{"text":"String","preciseIdentifier":"s:SS","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"limit","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"Int","preciseIdentifier":"s:Si","kind":"typeIdentifier"},{"text":") -> ","kind":"text"},{"text":"MaxCountSpec","preciseIdentifier":"s:17SpecificationCore12MaxCountSpecV","kind":"typeIdentifier"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore":{"type":"topic","kind":"symbol","url":"\/documentation\/specificationcore","title":"SpecificationCore","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore","abstract":[{"type":"text","text":"Platform-independent core for building specification-based business logic in Swift."}],"role":"collection"},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/MaxCountSpec/isSatisfiedBy(_:)":{"role":"symbol","title":"isSatisfiedBy(_:)","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec\/isSatisfiedBy(_:)","url":"\/documentation\/specificationcore\/maxcountspec\/issatisfiedby(_:)","kind":"symbol","type":"topic","abstract":[{"text":"Evaluates whether the given context satisfies this specification.","type":"text"}],"fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"text":"isSatisfiedBy","kind":"identifier"},{"kind":"text","text":"("},{"text":"EvaluationContext","kind":"typeIdentifier","preciseIdentifier":"s:17SpecificationCore17EvaluationContextV"},{"text":") -> ","kind":"text"},{"text":"Bool","preciseIdentifier":"s:Sb","kind":"typeIdentifier"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/MaxCountSpec/or(_:)":{"identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec\/or(_:)","url":"\/documentation\/specificationcore\/maxcountspec\/or(_:)","abstract":[{"type":"text","text":"Combines this MaxCountSpec with another counter specification using OR logic"}],"kind":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"or","kind":"identifier"},{"text":"(","kind":"text"},{"text":"MaxCountSpec","kind":"typeIdentifier","preciseIdentifier":"s:17SpecificationCore12MaxCountSpecV"},{"text":") -> ","kind":"text"},{"text":"OrSpecification","kind":"typeIdentifier","preciseIdentifier":"s:17SpecificationCore02OrA0V"},{"text":"<","kind":"text"},{"text":"MaxCountSpec","kind":"typeIdentifier","preciseIdentifier":"s:17SpecificationCore12MaxCountSpecV"},{"text":", ","kind":"text"},{"text":"MaxCountSpec","kind":"typeIdentifier","preciseIdentifier":"s:17SpecificationCore12MaxCountSpecV"},{"text":">","kind":"text"}],"title":"or(_:)","type":"topic","role":"symbol"},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/TimeSinceEventSpec":{"url":"\/documentation\/specificationcore\/timesinceeventspec","abstract":[{"type":"text","text":"A specification that checks if a minimum duration has passed since a specific event."},{"type":"text","text":" "},{"text":"This is useful for implementing cooldown periods, delays, or time-based restrictions.","type":"text"}],"identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/TimeSinceEventSpec","role":"symbol","type":"topic","kind":"symbol","navigatorTitle":[{"kind":"identifier","text":"TimeSinceEventSpec"}],"fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"TimeSinceEventSpec","kind":"identifier"}],"title":"TimeSinceEventSpec"},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/DateRangeSpec":{"identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/DateRangeSpec","url":"\/documentation\/specificationcore\/daterangespec","abstract":[{"text":"Succeeds when ","type":"text"},{"type":"codeVoice","code":"currentDate"},{"type":"text","text":" is within the inclusive range [start, end]."}],"kind":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"kind":"text","text":" "},{"text":"DateRangeSpec","kind":"identifier"}],"title":"DateRangeSpec","type":"topic","role":"symbol","navigatorTitle":[{"text":"DateRangeSpec","kind":"identifier"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/DefaultContextProvider":{"identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/DefaultContextProvider","kind":"symbol","type":"topic","abstract":[{"text":"A thread-safe context provider that maintains application-wide state for specification evaluation.","type":"text"}],"title":"DefaultContextProvider","navigatorTitle":[{"text":"DefaultContextProvider","kind":"identifier"}],"url":"\/documentation\/specificationcore\/defaultcontextprovider","fragments":[{"kind":"keyword","text":"class"},{"text":" ","kind":"text"},{"text":"DefaultContextProvider","kind":"identifier"}],"role":"symbol"},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/MaxCountSpec/Specification-Implementations":{"role":"collectionGroup","kind":"article","abstract":[],"type":"topic","url":"\/documentation\/specificationcore\/maxcountspec\/specification-implementations","title":"Specification Implementations","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec\/Specification-Implementations"},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/PredicateSpec":{"role":"symbol","kind":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"PredicateSpec","kind":"identifier"}],"abstract":[{"text":"A specification that accepts a closure for arbitrary logic.","type":"text"},{"text":" ","type":"text"},{"text":"This provides maximum flexibility for custom business rules that don’t fit","type":"text"},{"text":" ","type":"text"},{"text":"into the standard specification patterns.","type":"text"}],"type":"topic","url":"\/documentation\/specificationcore\/predicatespec","title":"PredicateSpec","navigatorTitle":[{"text":"PredicateSpec","kind":"identifier"}],"identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/PredicateSpec"},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/MaxCountSpec/onlyTwice(_:)":{"type":"topic","kind":"symbol","url":"\/documentation\/specificationcore\/maxcountspec\/onlytwice(_:)","title":"onlyTwice(_:)","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec\/onlyTwice(_:)","abstract":[{"type":"text","text":"Creates a specification for actions that can happen twice"}],"role":"symbol","fragments":[{"text":"static","kind":"keyword"},{"text":" ","kind":"text"},{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"onlyTwice","kind":"identifier"},{"text":"(","kind":"text"},{"text":"String","preciseIdentifier":"s:SS","kind":"typeIdentifier"},{"text":") -> ","kind":"text"},{"text":"MaxCountSpec","preciseIdentifier":"s:17SpecificationCore12MaxCountSpecV","kind":"typeIdentifier"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/FirstMatchSpec":{"url":"\/documentation\/specificationcore\/firstmatchspec","type":"topic","navigatorTitle":[{"text":"FirstMatchSpec","kind":"identifier"}],"abstract":[{"text":"A decision specification that evaluates child specifications in order and returns","type":"text"},{"text":" ","type":"text"},{"text":"the result of the first one that is satisfied.","type":"text"}],"title":"FirstMatchSpec","kind":"symbol","role":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"FirstMatchSpec","kind":"identifier"}],"identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/FirstMatchSpec"},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/MockContextProvider":{"identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MockContextProvider","kind":"symbol","type":"topic","abstract":[{"text":"A mock context provider designed for unit testing.","type":"text"},{"text":" ","type":"text"},{"text":"This provider allows you to set up specific context scenarios","type":"text"},{"text":" ","type":"text"},{"text":"and verify that specifications behave correctly under controlled conditions.","type":"text"}],"title":"MockContextProvider","navigatorTitle":[{"text":"MockContextProvider","kind":"identifier"}],"url":"\/documentation\/specificationcore\/mockcontextprovider","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"MockContextProvider","kind":"identifier"}],"role":"symbol"},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/EvaluationContext":{"navigatorTitle":[{"text":"EvaluationContext","kind":"identifier"}],"type":"topic","kind":"symbol","url":"\/documentation\/specificationcore\/evaluationcontext","title":"EvaluationContext","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/EvaluationContext","abstract":[{"type":"text","text":"A context object that holds data needed for specification evaluation."},{"type":"text","text":" "},{"text":"This serves as a container for all the information that specifications might need","type":"text"},{"type":"text","text":" "},{"type":"text","text":"to make their decisions, such as timestamps, counters, user state, etc."}],"role":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"EvaluationContext","kind":"identifier"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/MaxCountSpec/and(_:)":{"type":"topic","url":"\/documentation\/specificationcore\/maxcountspec\/and(_:)","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec\/and(_:)","role":"symbol","title":"and(_:)","abstract":[{"type":"text","text":"Combines this MaxCountSpec with another counter specification using AND logic"}],"kind":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"and","kind":"identifier"},{"text":"(","kind":"text"},{"text":"MaxCountSpec","kind":"typeIdentifier","preciseIdentifier":"s:17SpecificationCore12MaxCountSpecV"},{"text":") -> ","kind":"text"},{"text":"AndSpecification","kind":"typeIdentifier","preciseIdentifier":"s:17SpecificationCore03AndA0V"},{"text":"<","kind":"text"},{"text":"MaxCountSpec","kind":"typeIdentifier","preciseIdentifier":"s:17SpecificationCore12MaxCountSpecV"},{"text":", ","kind":"text"},{"text":"MaxCountSpec","kind":"typeIdentifier","preciseIdentifier":"s:17SpecificationCore12MaxCountSpecV"},{"text":">","kind":"text"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/MaxCountSpec/init(counterKey:maximumCount:)":{"type":"topic","url":"\/documentation\/specificationcore\/maxcountspec\/init(counterkey:maximumcount:)","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec\/init(counterKey:maximumCount:)","role":"symbol","title":"init(counterKey:maximumCount:)","abstract":[{"text":"Creates a new MaxCountSpec","type":"text"}],"kind":"symbol","fragments":[{"text":"init","kind":"identifier"},{"text":"(","kind":"text"},{"text":"counterKey","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"String","preciseIdentifier":"s:SS","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"maximumCount","kind":"externalParam"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Int","preciseIdentifier":"s:Si"},{"text":")","kind":"text"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/MaxCountSpec/init(counterKey:limit:)":{"kind":"symbol","url":"\/documentation\/specificationcore\/maxcountspec\/init(counterkey:limit:)","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec\/init(counterKey:limit:)","abstract":[{"text":"Creates a new MaxCountSpec with a limit parameter for clarity","type":"text"}],"fragments":[{"text":"init","kind":"identifier"},{"text":"(","kind":"text"},{"text":"counterKey","kind":"externalParam"},{"kind":"text","text":": "},{"text":"String","kind":"typeIdentifier","preciseIdentifier":"s:SS"},{"text":", ","kind":"text"},{"text":"limit","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"Int","kind":"typeIdentifier","preciseIdentifier":"s:Si"},{"text":")","kind":"text"}],"title":"init(counterKey:limit:)","type":"topic","role":"symbol"},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/MaxCountSpec/onlyOnce(_:)":{"type":"topic","kind":"symbol","url":"\/documentation\/specificationcore\/maxcountspec\/onlyonce(_:)","title":"onlyOnce(_:)","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec\/onlyOnce(_:)","abstract":[{"text":"Creates a specification for single-use actions (limit of 1)","type":"text"}],"role":"symbol","fragments":[{"text":"static","kind":"keyword"},{"text":" ","kind":"text"},{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"onlyOnce","kind":"identifier"},{"text":"(","kind":"text"},{"text":"String","preciseIdentifier":"s:SS","kind":"typeIdentifier"},{"text":") -> ","kind":"text"},{"text":"MaxCountSpec","preciseIdentifier":"s:17SpecificationCore12MaxCountSpecV","kind":"typeIdentifier"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/MaxCountSpec/inclusive(counterKey:maximumCount:)":{"type":"topic","title":"inclusive(counterKey:maximumCount:)","url":"\/documentation\/specificationcore\/maxcountspec\/inclusive(counterkey:maximumcount:)","kind":"symbol","abstract":[{"type":"text","text":"Creates a specification that checks if a counter is less than or equal to a maximum"}],"identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec\/inclusive(counterKey:maximumCount:)","role":"symbol","fragments":[{"text":"static","kind":"keyword"},{"text":" ","kind":"text"},{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"inclusive","kind":"identifier"},{"text":"(","kind":"text"},{"text":"counterKey","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"String","preciseIdentifier":"s:SS","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"maximumCount","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"Int","preciseIdentifier":"s:Si","kind":"typeIdentifier"},{"text":") -> ","kind":"text"},{"text":"AnySpecification","preciseIdentifier":"s:17SpecificationCore03AnyA0V","kind":"typeIdentifier"},{"text":"<","kind":"text"},{"text":"EvaluationContext","preciseIdentifier":"s:17SpecificationCore17EvaluationContextV","kind":"typeIdentifier"},{"text":">","kind":"text"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/MaxCountSpec/weeklyLimit(_:limit:)":{"kind":"symbol","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec\/weeklyLimit(_:limit:)","type":"topic","abstract":[{"type":"text","text":"Creates a specification for weekly limits (assuming counter tracks weekly occurrences)"}],"title":"weeklyLimit(_:limit:)","url":"\/documentation\/specificationcore\/maxcountspec\/weeklylimit(_:limit:)","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"weeklyLimit"},{"kind":"text","text":"("},{"kind":"typeIdentifier","preciseIdentifier":"s:SS","text":"String"},{"kind":"text","text":", "},{"kind":"externalParam","text":"limit"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:Si","text":"Int"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","preciseIdentifier":"s:17SpecificationCore12MaxCountSpecV","text":"MaxCountSpec"}],"role":"symbol"},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/MaxCountSpec/exactly(counterKey:count:)":{"title":"exactly(counterKey:count:)","kind":"symbol","type":"topic","abstract":[{"text":"Creates a specification that checks if a counter is exactly equal to a value","type":"text"}],"identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec\/exactly(counterKey:count:)","role":"symbol","url":"\/documentation\/specificationcore\/maxcountspec\/exactly(counterkey:count:)","fragments":[{"text":"static","kind":"keyword"},{"text":" ","kind":"text"},{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"exactly","kind":"identifier"},{"text":"(","kind":"text"},{"text":"counterKey","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"String","kind":"typeIdentifier","preciseIdentifier":"s:SS"},{"text":", ","kind":"text"},{"text":"count","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"Int","kind":"typeIdentifier","preciseIdentifier":"s:Si"},{"text":") -> ","kind":"text"},{"text":"AnySpecification","kind":"typeIdentifier","preciseIdentifier":"s:17SpecificationCore03AnyA0V"},{"text":"<","kind":"text"},{"text":"EvaluationContext","kind":"typeIdentifier","preciseIdentifier":"s:17SpecificationCore17EvaluationContextV"},{"text":">","kind":"text"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/MaxCountSpec/counterKey":{"fragments":[{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"kind":"identifier","text":"counterKey"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"}],"type":"topic","kind":"symbol","abstract":[{"type":"text","text":"The key identifying the counter in the context"}],"url":"\/documentation\/specificationcore\/maxcountspec\/counterkey","title":"counterKey","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec\/counterKey","role":"symbol"},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/MaxCountSpec/inRange(counterKey:range:)":{"title":"inRange(counterKey:range:)","kind":"symbol","abstract":[{"type":"text","text":"Creates a specification that checks if a counter is within a range"}],"type":"topic","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec\/inRange(counterKey:range:)","role":"symbol","url":"\/documentation\/specificationcore\/maxcountspec\/inrange(counterkey:range:)","fragments":[{"text":"static","kind":"keyword"},{"text":" ","kind":"text"},{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"inRange","kind":"identifier"},{"text":"(","kind":"text"},{"text":"counterKey","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:SS","text":"String","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"range","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:SN","text":"ClosedRange","kind":"typeIdentifier"},{"text":"<","kind":"text"},{"preciseIdentifier":"s:Si","text":"Int","kind":"typeIdentifier"},{"text":">) -> ","kind":"text"},{"preciseIdentifier":"s:17SpecificationCore03AnyA0V","text":"AnySpecification","kind":"typeIdentifier"},{"text":"<","kind":"text"},{"preciseIdentifier":"s:17SpecificationCore17EvaluationContextV","text":"EvaluationContext","kind":"typeIdentifier"},{"text":">","kind":"text"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/Specification":{"url":"\/documentation\/specificationcore\/specification","type":"topic","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/Specification","role":"symbol","title":"Specification","abstract":[{"text":"A specification that evaluates whether a context satisfies certain conditions.","type":"text"}],"navigatorTitle":[{"kind":"identifier","text":"Specification"}],"kind":"symbol","fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"Specification"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/MaxCountSpec/maximumCount":{"url":"\/documentation\/specificationcore\/maxcountspec\/maximumcount","type":"topic","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec\/maximumCount","role":"symbol","title":"maximumCount","abstract":[{"type":"text","text":"The maximum allowed value for the counter (exclusive)"}],"kind":"symbol","fragments":[{"text":"let","kind":"keyword"},{"text":" ","kind":"text"},{"text":"maximumCount","kind":"identifier"},{"text":": ","kind":"text"},{"text":"Int","kind":"typeIdentifier","preciseIdentifier":"s:Si"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/DateComparisonSpec":{"type":"topic","navigatorTitle":[{"text":"DateComparisonSpec","kind":"identifier"}],"title":"DateComparisonSpec","url":"\/documentation\/specificationcore\/datecomparisonspec","kind":"symbol","abstract":[{"text":"Compares the date of a stored event to a reference date using before\/after.","type":"text"}],"identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/DateComparisonSpec","role":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"DateComparisonSpec","kind":"identifier"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/MaxCountSpec":{"navigatorTitle":[{"text":"MaxCountSpec","kind":"identifier"}],"type":"topic","kind":"symbol","url":"\/documentation\/specificationcore\/maxcountspec","title":"MaxCountSpec","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec","abstract":[{"type":"text","text":"A specification that checks if a counter is below a maximum threshold."},{"type":"text","text":" "},{"type":"text","text":"This is useful for implementing limits on actions, display counts, or usage restrictions."}],"role":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"MaxCountSpec","kind":"identifier"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/MaxCountSpec/dailyLimit(_:limit:)":{"type":"topic","title":"dailyLimit(_:limit:)","url":"\/documentation\/specificationcore\/maxcountspec\/dailylimit(_:limit:)","kind":"symbol","abstract":[{"type":"text","text":"Creates a specification for daily limits (assuming counter tracks daily occurrences)"}],"identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec\/dailyLimit(_:limit:)","role":"symbol","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"dailyLimit"},{"kind":"text","text":"("},{"kind":"typeIdentifier","preciseIdentifier":"s:SS","text":"String"},{"kind":"text","text":", "},{"kind":"externalParam","text":"limit"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:Si","text":"Int"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","preciseIdentifier":"s:17SpecificationCore12MaxCountSpecV","text":"MaxCountSpec"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/MaxCountSpec/T":{"fragments":[{"kind":"keyword","text":"typealias"},{"kind":"text","text":" "},{"kind":"identifier","text":"T"}],"type":"topic","kind":"symbol","abstract":[{"type":"text","text":"The type of context that this specification evaluates."}],"url":"\/documentation\/specificationcore\/maxcountspec\/t","title":"MaxCountSpec.T","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/MaxCountSpec\/T","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"T"}]},"doc://specificationcore.SpecificationCore/documentation/SpecificationCore/CooldownIntervalSpec":{"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"CooldownIntervalSpec"}],"type":"topic","kind":"symbol","abstract":[{"type":"text","text":"A specification that ensures enough time has passed since the last occurrence of an event."},{"type":"text","text":" "},{"type":"text","text":"This is particularly useful for implementing cooldown periods for actions like showing banners,"},{"type":"text","text":" "},{"type":"text","text":"notifications, or any other time-sensitive operations that shouldn’t happen too frequently."}],"url":"\/documentation\/specificationcore\/cooldownintervalspec","title":"CooldownIntervalSpec","identifier":"doc:\/\/specificationcore.SpecificationCore\/documentation\/SpecificationCore\/CooldownIntervalSpec","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"CooldownIntervalSpec"}]}}}